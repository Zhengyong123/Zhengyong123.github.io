<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>剑出花残</title>
  <subtitle>come on</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-12-02T08:05:41.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>JC</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JavaScript面向对象与原型</title>
    <link href="http://yoursite.com/2016/11/02/jsObject/"/>
    <id>http://yoursite.com/2016/11/02/jsObject/</id>
    <published>2016-11-02T07:46:33.000Z</published>
    <updated>2016-12-02T08:05:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="工厂模式：无法识别对象"><a href="#工厂模式：无法识别对象" class="headerlink" title="工厂模式：无法识别对象"></a>工厂模式：无法识别对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">function createObject(name, age) &#123; //集中实例化的函数</div><div class="line">　　var obj = new Object();</div><div class="line">　　obj.name = name;</div><div class="line">　　obj.age = age;</div><div class="line">　　obj.run = function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;;</div><div class="line">　　return obj;</div><div class="line">&#125;</div><div class="line">var box1 = createObject(&apos;Lee&apos;, 100); //第一个实例</div><div class="line">var box2 = createObject(&apos;Jack&apos;, 200); //第二个实例</div><div class="line">alert(box1.run());</div><div class="line">alert(box2.run()); //保持独立</div><div class="line">alert(typeof box1); //Object</div><div class="line">alert(box1 instanceof Object); //true</div></pre></td></tr></table></figure>
<h2 id="构造函数-构造方法-：可以识别对象"><a href="#构造函数-构造方法-：可以识别对象" class="headerlink" title="构造函数(构造方法)：可以识别对象"></a>构造函数(构造方法)：可以识别对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Box(name, age) &#123; //构造函数模式</div><div class="line">　　this.name = name;</div><div class="line">　　this.age = age;</div><div class="line">　　this.run = function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;;</div><div class="line">&#125;</div><div class="line">var box1 = new Box(&apos;Lee&apos;, 100); //new Box()即可</div><div class="line">var box2 = new Box(&apos;Jack&apos;, 200);</div><div class="line">alert(box1.run());</div><div class="line">alert(box1 instanceof Box); //很清晰的识别他从属于 Box</div></pre></td></tr></table></figure>
<h2 id="构造函数的方法有一些规范："><a href="#构造函数的方法有一些规范：" class="headerlink" title="构造函数的方法有一些规范："></a>构造函数的方法有一些规范：</h2><p><br>1.函数名和实例化构造名相同且大写，(PS：非强制，但这么写有助于区分构造函数和普通函数)；<br>2.通过构造函数创建对象，必须使用 new 运算符。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var o = new Object();</div><div class="line">Box.call(o, &apos;Jack&apos;, 200) //对象冒充调用</div><div class="line">alert(o.run());</div></pre></td></tr></table></figure><br><br><p><br>原型（共享）：创建的每个函数都有一个 prototype(原型)属性，这个属性是一个对象，它的用途是包含可以由特定类型的所有实例共享的属性和方法。逻辑上可以这么理解：prototype 通过调用构造函数而创建的那个对象的原型对象。使用原型的好处可以让所有对象实例共享它所包含的属性和方法。也就是说，不必在构造函数中定义对象信息，而是可以直接将这些信息添加到原型中。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">unction Box() &#123;&#125; //声明一个构造函数</div><div class="line">Box.prototype.name = &apos;Lee&apos;; //在原型里添加属性</div><div class="line">Box.prototype.age = 100;</div><div class="line">Box.prototype.run = function () &#123; //在原型里添加方法</div><div class="line">　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><img src="https://zhaoxingzi.github.io/img/js.png" alt="js.png"><br><p><br>在原型模式声明中，多了两个属性，这两个属性都是创建对象时自动生成的。<br>proto属性：是实例指向原型对象的一个指针，它的作用就是指向构造函数的原型属性 constructor 。通过这两个属性，就可以访问到原型里的属性和方法了。<br>PS：IE 浏览器在脚本访问proto会不能识别，火狐和谷歌浏览器及其他某些浏览器均能识别。虽然可以输出，但无法获取内部信息。<br>判断一个对象是否指向了该构造函数的原型对象，可以使用 isPrototypeOf()方法来测试。<br>exp：alert(Box.prototype.isPrototypeOf(box)); //只要实例化对象，即都会指向<br></p>

<h2 id="原型模式的执行流程："><a href="#原型模式的执行流程：" class="headerlink" title="原型模式的执行流程："></a>原型模式的执行流程：</h2><p><br>1.先查找构造函数实例里的属性或方法，如果有，立刻返回；<br>2.如果构造函数实例里没有，则去它的原型对象里找，如果有，就返回；<br>虽然我们可以通过对象实例访问保存在原型中的值，但却不能访问通过对象实例重写原型中的值。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var box1 = new Box();</div><div class="line">alert(box1.name); //Lee，原型里的值</div><div class="line">box1.name = &apos;Jack&apos;;</div><div class="line">alert(box.1name); //Jack，就近原则，</div><div class="line">var box2 = new Box();</div><div class="line">alert(box2.name); //Lee，原型里的值，没有被 box1 修改</div><div class="line">如果想要 box1 也能在后面继续访问到原型里的值，可以把构造函数里的属性删除即可 ，具体如下：</div><div class="line">delete box1.name; //删除属性</div><div class="line">alert(box1.name);</div><div class="line">如何判断属性是在构造函数的实例里，还是在原型里？可以使用 hasOwnProperty()函数来验证：</div><div class="line">alert(box.hasOwnProperty(&apos;name&apos;)); //实例里有返回 true，否则返回 false</div></pre></td></tr></table></figure><br><br><p><br>in 操作符会在通过对象能够访问给定属性时返回 true，无论该属性存在于实例中还是原型中。<br>alert(‘name’ in box); //true，存在实例中或原型中<br>我们可以通过 hasOwnProperty()方法检测属性是否存在实例中，也可以通过 in 来判断实例或原型中是否存在属性。那么结合这两种方法，可以判断原型中是否存在属性。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function isProperty(object, property) &#123; //判断原型中是否存在属性</div><div class="line">　　return !object.hasOwnProperty(property) &amp;&amp; (property in object);</div><div class="line">&#125;</div><div class="line">var box = new Box();</div><div class="line">alert(isProperty(box, &apos;name&apos;)) //true，如果原型有</div></pre></td></tr></table></figure><br><br><p><br>    为了让属性和方法更好的体现封装的效果，并且减少不必要的输入，原型的创建可以使用字面量的方式：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function Box() &#123;&#125;;</div><div class="line">Box.prototype = &#123; //使用字面量的方式</div><div class="line">　　name : &apos;Lee&apos;,</div><div class="line">　　age : 100,</div><div class="line">　　run : function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><br><br><p><br>使用构造函数创建原型对象和使用字面量创建对象在使用上基本相同，但还是有一些区别，字面量创建的方式使用 constructor 属性不会指向实例，而会指向 Object，构造函数创建的方式则相反。<br>如果想让字面量方式的 constructor 指向实例对象，那么可以这么做：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Box.prototype = &#123;</div><div class="line">　　constructor : Box, //直接强制指向即可</div><div class="line">&#125;;</div></pre></td></tr></table></figure><br><br><p><br>原型对象不仅仅可以在自定义对象的情况下使用，而 ECMAScript 内置的引用类型都可以使用这种方式，并且内置的引用类型本身也使用了原型。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">alert(Array.prototype.sort); //sort 就是 Array 类型的原型方法</div><div class="line">alert(String.prototype.substring); //substring 就是 String 类型的原型方法</div><div class="line">String.prototype.addstring = function () &#123; //给 String 类型添加一个方法</div><div class="line">　　return this + &apos;，被添加了！&apos;; //this 代表调用的字符串</div><div class="line">&#125;;</div><div class="line">alert(&apos;Lee&apos;.addstring()); //使用这个方法</div></pre></td></tr></table></figure><br><br><p><br>PS：尽管给原生的内置引用类型添加方法使用起来特别方便，但我们不推荐使用这种方法。因为它可能会导致命名冲突，不利于代码维护。<br></p>

<h2 id="动态原型模式"><a href="#动态原型模式" class="headerlink" title="动态原型模式"></a>动态原型模式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Box(name ,age) &#123; //将所有信息封装到函数体内</div><div class="line">　　this.name = name;</div><div class="line">　　this.age = age;</div><div class="line">　　if (typeof this.run != &apos;function&apos;) &#123; //仅在第一次调用的初始化</div><div class="line">　　　　Box.prototype.run = function () &#123;</div><div class="line">　　　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　　　&#125;;</div><div class="line">　　&#125;</div><div class="line">&#125;</div><div class="line">var box = new Box(&apos;Lee&apos;, 100);</div><div class="line">alert(box.run());</div></pre></td></tr></table></figure>
<p><br>PS：使用动态原型模式，要注意一点，不可以再使用字面量的方式重写原型，因为会切断实例和新原型之间的联系。<br></p>

<h2 id="寄生构造函数"><a href="#寄生构造函数" class="headerlink" title="寄生构造函数"></a>寄生构造函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function Box(name, age) &#123;</div><div class="line">　　var obj = new Object();</div><div class="line">　　obj.name = name;</div><div class="line">　　obj.age = age;</div><div class="line">　　obj.run = function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;;</div><div class="line">　　return obj;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="稳妥构造函数"><a href="#稳妥构造函数" class="headerlink" title="稳妥构造函数"></a>稳妥构造函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function Box(name , age) &#123;</div><div class="line">　　var obj = new Object();</div><div class="line">　　obj.run = function () &#123;</div><div class="line">　　　　return name + age + &apos;运行中...&apos;; //直接打印参数即可</div><div class="line">　　&#125;;</div><div class="line">　　return obj;</div><div class="line">&#125;</div><div class="line">var box = Box(&apos;Lee&apos;, 100); //直接调用函数</div><div class="line">alert(box.run());</div></pre></td></tr></table></figure>
<h2 id="继承：依靠原型链完成"><a href="#继承：依靠原型链完成" class="headerlink" title="继承：依靠原型链完成"></a>继承：依靠原型链完成</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function Box() &#123; //Box 构造</div><div class="line">　　this.name = &apos;Lee&apos;;</div><div class="line">&#125;</div><div class="line">function Desk() &#123; //Desk 构造</div><div class="line">　　this.age = 100;</div><div class="line">&#125;</div><div class="line">Desk.prototype = new Box(); //Desc 继承了 Box，通过原型，形成链条</div><div class="line">var desk = new Desk();</div><div class="line">alert(desk.age);</div><div class="line">alert(desk.name); //得到被继承的属性</div><div class="line">function Table() &#123; //Table 构造</div><div class="line">　　this.level = &apos;AAAAA&apos;;</div><div class="line">&#125;</div><div class="line">Table.prototype = new Desk(); //继续原型链继承</div><div class="line">var table = new Table();</div><div class="line">alert(table.name); //继承了 Box 和 Desk</div></pre></td></tr></table></figure>
<p><img src="https://zhaoxingzi.github.io/img/js1.png" alt="js1.png"></p>
<p><br>在 JavaScript 里，被继承的函数称为超类型(父类，基类也行，其他语言叫法)，继承的函数称为子类型(子类，派生类)。继承也有之前问题，比如字面量重写原型会中断关系，使用引用类型的原型，并且子类型还无法给超类型传递参数。<br></p>

<h2 id="对象冒充-伪造对象、经典继承、借用构造函数-：解决引用共享和超类型无法传参的问题"><a href="#对象冒充-伪造对象、经典继承、借用构造函数-：解决引用共享和超类型无法传参的问题" class="headerlink" title="对象冒充(伪造对象、经典继承、借用构造函数)：解决引用共享和超类型无法传参的问题"></a>对象冒充(伪造对象、经典继承、借用构造函数)：解决引用共享和超类型无法传参的问题</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function Box(age) &#123;</div><div class="line">　　this.name = [&apos;Lee&apos;, &apos;Jack&apos;, &apos;Hello&apos;]</div><div class="line">　　this.age = age;</div><div class="line">&#125;</div><div class="line">function Desk(age) &#123;</div><div class="line">　　Box.call(this, age); //对象冒充，给超类型传参</div><div class="line">&#125;</div><div class="line">var desk = new Desk(200);</div><div class="line">alert(desk.age);</div><div class="line">alert(desk.name);</div><div class="line">desk.name.push(&apos;AAA&apos;); //添加的新数据，只给 desk</div><div class="line">alert(desk.name);</div></pre></td></tr></table></figure>
<h2 id="组合继承：原型链-借用构造函数"><a href="#组合继承：原型链-借用构造函数" class="headerlink" title="组合继承：原型链+ 借用构造函数"></a>组合继承：原型链+ 借用构造函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function Box(age) &#123;</div><div class="line">　　this.name = [&apos;Lee&apos;, &apos;Jack&apos;, &apos;Hello&apos;]</div><div class="line">　　this.age = age;</div><div class="line">&#125;</div><div class="line">Box.prototype.run = function () &#123;</div><div class="line">　　return this.name + this.age;</div><div class="line">&#125;;</div><div class="line">function Desk(age) &#123;</div><div class="line">　　Box.call(this, age); //对象冒充</div><div class="line">&#125;</div><div class="line">Desk.prototype = new Box(); //原型链继承</div><div class="line">var desk = new Desk(100);</div><div class="line">alert(desk.run());</div></pre></td></tr></table></figure>
<h2 id="寄生组合继承"><a href="#寄生组合继承" class="headerlink" title="寄生组合继承"></a>寄生组合继承</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">function obj(o) &#123;     //传递一个字面量函数</div><div class="line">　　function F() &#123;&#125;    //临时新建一个构造函数，用来存储传递进来的对象</div><div class="line">　　F.prototype = o;    //将o对象实例赋值给F构造的原型对象</div><div class="line">　　return new F();    //返回实例化后的构造函数</div><div class="line">&#125;</div><div class="line">function create(box, desk) &#123;</div><div class="line">　　var f = obj(box.prototype);</div><div class="line">　　f.constructor = desk;</div><div class="line">　　desk.prototype = f;</div><div class="line">&#125;</div><div class="line">function Box(name) &#123;</div><div class="line">　　this.name = name;</div><div class="line">　　this.arr = [&apos;哥哥&apos;,&apos;妹妹&apos;,&apos;父母&apos;];</div><div class="line">&#125;</div><div class="line">Box.prototype.run = function () &#123;</div><div class="line">　　return this.name;</div><div class="line">&#125;;</div><div class="line">function Desk(name, age) &#123;</div><div class="line">　　Box.call(this, name);</div><div class="line">　　this.age = age;</div><div class="line">&#125;</div><div class="line">inPrototype(Box, Desk); //通过这里实现继承</div><div class="line">var desk = new Desk(&apos;Lee&apos;,100);</div><div class="line">desk.arr.push(&apos;姐姐&apos;);</div><div class="line">alert(desk.arr);</div><div class="line">alert(desk.run()); //只共享了方法</div><div class="line">var desk2 = new Desk(&apos;Jack&apos;, 200);</div><div class="line">alert(desk2.arr); //引用问题解决</div></pre></td></tr></table></figure>
<p>转载-&gt;<a href="http://www.cnblogs.com/sctnl/p/6086121.html" target="_blank" rel="external">http://www.cnblogs.com/sctnl/p/6086121.html</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;工厂模式：无法识别对象&quot;&gt;&lt;a href=&quot;#工厂模式：无法识别对象&quot; class=&quot;headerlink&quot; title=&quot;工厂模式：无法识别对象&quot;&gt;&lt;/a&gt;工厂模式：无法识别对象&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;tabl
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>css正方体滚动</title>
    <link href="http://yoursite.com/2016/10/31/cssCube/"/>
    <id>http://yoursite.com/2016/10/31/cssCube/</id>
    <published>2016-10-31T11:37:14.000Z</published>
    <updated>2016-12-01T11:41:01.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">		&lt;title&gt;立方体&lt;/title&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;div class=&quot;eyes&quot;&gt;</div><div class="line">			&lt;div class=&quot;box&quot;&gt;</div><div class="line">				&lt;div class=&quot;div1&quot;&gt;1&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div11&quot;&gt;1&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div2&quot;&gt;2&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div22&quot;&gt;2&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div3&quot;&gt;3&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div33&quot;&gt;3&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div4&quot;&gt;4&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div44&quot;&gt;4&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div5&quot;&gt;5&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div55&quot;&gt;5&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div6&quot;&gt;6&lt;/div&gt;</div><div class="line">				&lt;div class=&quot;div66&quot;&gt;6&lt;/div&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		&lt;/div&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div></pre></td><td class="code"><pre><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">	.eyes&#123;</div><div class="line">		perspective: 1200px;</div><div class="line">		perspective-origin: 50% 50%;</div><div class="line">	&#125;</div><div class="line">	.box&#123;</div><div class="line">		transform-style: preserve-3d;</div><div class="line">		background-color: red;				</div><div class="line">		height: 200px;</div><div class="line">		width: 200px;</div><div class="line">		margin-top: 30vh;</div><div class="line">		margin-left: 40vw;</div><div class="line">		position: absolute;</div><div class="line">		animation: move 9s linear infinite;</div><div class="line">		animation-direction: alternate;</div><div class="line">	&#125;</div><div class="line">	@keyframes move&#123;</div><div class="line">		0%&#123;transform: rotateX(0) rotateY(0);&#125;</div><div class="line">		100%&#123;transform: rotateX(720deg) rotateY(720deg);&#125;</div><div class="line">	&#125;</div><div class="line">	.box:hover .div1&#123;</div><div class="line">		transform: rotateX(90deg) translateZ(300px) scale(2,2);</div><div class="line">	&#125;</div><div class="line">	.box:hover .div2&#123;</div><div class="line">		transform: rotateX(270deg) translateZ(300px) scale(2,2);</div><div class="line">	&#125;</div><div class="line">	.box:hover .div3&#123;</div><div class="line">		transform: rotateY(270deg) translateZ(300px) scale(2,2);</div><div class="line">	&#125;</div><div class="line">	.box:hover .div4&#123;</div><div class="line">		transform: rotateY(90deg) translateZ(300px) scale(2,2);</div><div class="line">	&#125;</div><div class="line">	.box:hover .div5&#123;</div><div class="line">		transform: translateZ(300px) scale(2,2);</div><div class="line">	&#125;</div><div class="line">	.box:hover .div6&#123;</div><div class="line">		transform: translateZ(-300px) scale(2,2);</div><div class="line">	&#125;</div><div class="line">	.box div&#123;</div><div class="line">		width: 200px;</div><div class="line">		height: 200px;</div><div class="line">		font-size: 80px;</div><div class="line">		text-align: center;</div><div class="line">		line-height: 200px;</div><div class="line">		color: white;</div><div class="line">		position: absolute;</div><div class="line">		opacity: 0.5;</div><div class="line">	&#125;</div><div class="line">	.div1&#123;</div><div class="line">		background-color: lightblue;</div><div class="line">		transform: rotateX(90deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	.div11&#123;</div><div class="line">		background-color: lightblue;</div><div class="line">		transform: rotateX(90deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	.div2&#123;</div><div class="line">		background-color: red;</div><div class="line">		transform: rotateX(270deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div22&#123;</div><div class="line">		background-color: red;</div><div class="line">		transform: rotateX(270deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div3&#123;</div><div class="line">		background-color: yellow;</div><div class="line">		transform: rotateY(270deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div33&#123;</div><div class="line">		background-color: yellow;</div><div class="line">		transform: rotateY(270deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div4&#123;</div><div class="line">		background-color: lightgreen;</div><div class="line">		transform: rotateY(90deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div44&#123;</div><div class="line">		background-color: lightgreen;</div><div class="line">		transform: rotateY(90deg) translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div5&#123;</div><div class="line">		background-color: purple;</div><div class="line">		transform: translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	.div55&#123;</div><div class="line">		background-color: purple;</div><div class="line">		transform: translateZ(100px);</div><div class="line">		transition: 1s;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	.div6&#123;</div><div class="line">		background-color: pink;</div><div class="line">		transform: translateZ(-100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">	.div66&#123;</div><div class="line">		background-color: pink;</div><div class="line">		transform: translateZ(-100px);</div><div class="line">		transition: 1s;</div><div class="line">	&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Math随机数做双色球</title>
    <link href="http://yoursite.com/2016/10/28/MathSuiji/"/>
    <id>http://yoursite.com/2016/10/28/MathSuiji/</id>
    <published>2016-10-28T08:07:55.000Z</published>
    <updated>2016-11-26T08:13:38.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">		&lt;title&gt;&lt;/title&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;div class=&quot;wrap&quot;&gt;</div><div class="line">			&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;点击摇奖&quot;&gt;</div><div class="line">			&lt;div class=&quot;loading&quot;&gt;请开始摇奖&lt;/div&gt;</div><div class="line">			&lt;div class=&quot;case&quot;&gt;</div><div class="line">				&lt;ul&gt;					</div><div class="line">				&lt;/ul&gt;</div><div class="line">				&lt;ol&gt;					</div><div class="line">				&lt;/ol&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		&lt;/div&gt;	</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h2 id="CSS样式"><a href="#CSS样式" class="headerlink" title="CSS样式"></a>CSS样式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">	.wrap&#123;</div><div class="line">		width: 400px;</div><div class="line">		height: 600px;</div><div class="line">		background-color: red;</div><div class="line">		position: relative;</div><div class="line">		margin: 0 auto;</div><div class="line">	&#125;</div><div class="line">	.wrap .btn&#123;</div><div class="line">		width: 150px;</div><div class="line">		height: 40px;</div><div class="line">		font-size: 20px;</div><div class="line">		display: block;</div><div class="line">		margin: 0 auto 30px;</div><div class="line">		text-align: center;</div><div class="line">		line-height: 40px;</div><div class="line">		color: gold;</div><div class="line">		border: none;</div><div class="line">	&#125;</div><div class="line">	.loading&#123;</div><div class="line">		width: 400px;</div><div class="line">		height: 60px;</div><div class="line">		background-color: white;</div><div class="line">		margin: 0 auto;</div><div class="line">		line-height: 60px;</div><div class="line">		color: #666;</div><div class="line">		text-align: center;</div><div class="line">		font-size: 30px;</div><div class="line">	&#125;</div><div class="line">	.case&#123;</div><div class="line">		display: none;</div><div class="line">	&#125;</div><div class="line">	.case&#123;</div><div class="line">		width: 300px;</div><div class="line">		height: 60px;</div><div class="line">		background-color: white;</div><div class="line">		margin: 0 auto;</div><div class="line">	&#125;</div><div class="line">	.case ul&#123;</div><div class="line">		left: 20px;</div><div class="line">		position: absolute;</div><div class="line">		list-style: none;</div><div class="line">		width: 260px;</div><div class="line">	&#125;</div><div class="line">	.case ol&#123;</div><div class="line">		list-style: none;</div><div class="line">		width: 50px;</div><div class="line">		float: right;</div><div class="line">	&#125;</div><div class="line">	.case ol li&#123;</div><div class="line">		width: 30px;</div><div class="line">		height: 30px;</div><div class="line">		border-radius: 50%;</div><div class="line">		color: white;</div><div class="line">		background-color: blue;</div><div class="line">		line-height: 30px;</div><div class="line">		text-align: center;</div><div class="line">	&#125;</div><div class="line">	.case ul li&#123;</div><div class="line">		width: 30px;</div><div class="line">		height: 30px;</div><div class="line">		border-radius: 50%;</div><div class="line">		color: white;</div><div class="line">		background-color: red;</div><div class="line">		float: left;</div><div class="line">		margin: 0 3px;</div><div class="line">		line-height: 30px;</div><div class="line">		text-align: center;</div><div class="line">	&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var btn = document.querySelector(&quot;.btn&quot;);		</div><div class="line">	btn.onclick = function()&#123;</div><div class="line">		var redNum = 6;</div><div class="line">		var blueNum = 1;</div><div class="line">		var redList = [];</div><div class="line">		var blueList = [];</div><div class="line">		var redHtml = &quot;&quot;;</div><div class="line">		var blueHtml = &quot;&quot;;</div><div class="line">		var loading = document.querySelector(&quot;.loading&quot;);</div><div class="line">		var ca = document.querySelector(&quot;.case&quot;);</div><div class="line">		loading.style.display = &quot;none&quot;;</div><div class="line">		ca.style.display = &quot;block&quot;;</div><div class="line">		for (var i = 0;i&lt;redNum;i++) &#123;</div><div class="line">			redList.push(random(1,33));</div><div class="line">		&#125;</div><div class="line">		for (var j = 0;j&lt;blueNum;j++) &#123;</div><div class="line">			blueList.push(random(1,16));</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		for (var h = 0;h&lt;redList.length;h++) &#123;</div><div class="line">			if (redList[h]&lt; 10) &#123;</div><div class="line">				redHtml +=&quot;&lt;li&gt;0&quot;+redList[h]+&quot;&lt;/li&gt;&quot;;</div><div class="line">			&#125;else&#123;</div><div class="line">				redHtml +=&quot;&lt;li&gt;&quot;+redList[h]+&quot;&lt;/li&gt;&quot;;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		if (blueList[0]&lt; 10) &#123;</div><div class="line">			blueHtml +=&quot;&lt;li&gt;0&quot;+blueList[0]+&quot;&lt;/li&gt;&quot;;</div><div class="line">		&#125;else&#123;</div><div class="line">			blueHtml +=&quot;&lt;li&gt;&quot;+blueList[0]+&quot;&lt;/li&gt;&quot;;</div><div class="line">		&#125;</div><div class="line">		document.querySelector(&quot;.case ul&quot;).innerHTML = redHtml;</div><div class="line">		document.querySelector(&quot;.case ol&quot;).innerHTML = blueHtml;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	function random(m,n) &#123;</div><div class="line">		var num = Math.max(m,n) - Math.min(m,n);</div><div class="line">		return Math.round(Math.random()*num+Math.min(m,n));</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>canvas绘制熊本熊</title>
    <link href="http://yoursite.com/2016/10/26/canvasXiong/"/>
    <id>http://yoursite.com/2016/10/26/canvasXiong/</id>
    <published>2016-10-26T06:36:27.000Z</published>
    <updated>2016-11-26T07:28:30.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="从网上看到一个用canvas绘制的熊本熊"><a href="#从网上看到一个用canvas绘制的熊本熊" class="headerlink" title="从网上看到一个用canvas绘制的熊本熊"></a>从网上看到一个用canvas绘制的熊本熊</h3><p><img src="http://cdn.saymagic.cn/o_1aqq369m11jrs4o4g3o7pe10119.png" alt="o_1aqq369m11jrs4o4g3o7pe10119.png"></p>
<h2 id="HTML-amp-CSS"><a href="#HTML-amp-CSS" class="headerlink" title="HTML &amp; CSS"></a>HTML &amp; CSS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">	&lt;!-- html文件 --&gt;</div><div class="line">&lt;canvas class=&quot;kumamon&quot; id=&quot;kumamon&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;kumamon</div></pre></td></tr></table></figure>
<p><br>    为了清楚地看到画布位置，我们来给画布加个黑色边框：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">/*css文件*/</div><div class="line">.kumamon&#123;</div><div class="line">    border: 1px solid #000;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    画整幅图的函数：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function drawKumamon() &#123;</div><div class="line">    var ku = document.getElementById(&quot;kumamon&quot;);</div><div class="line">    if (ku.getContext) &#123;</div><div class="line">        var ctx = ku.getContext(&quot;2d&quot;);</div><div class="line">        //绘图代码</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    文档加载后绘图（防止<code>getElementById()</code>取到空值）：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">window.onload = function() &#123;</div><div class="line">    drawKumamon();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    跨浏览器的事件监听方法（本例中只会用到 addHandler）：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">var EventUtil = &#123;</div><div class="line">    addHandler: function(ele, type, handler) &#123;</div><div class="line">        if (ele.addEventListener) &#123;</div><div class="line">            ele.addEventListener(type, handler, false);</div><div class="line">        &#125; else if (ele.attachEvent) &#123;</div><div class="line">            ele.attachEvent(&quot;on&quot; + type, handler);</div><div class="line">        &#125; else &#123;</div><div class="line">            ele[&quot;on&quot; + type] = handler;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    removeHandler: function(ele, type, handler) &#123;</div><div class="line">        if (ele.removeEventListener) &#123;</div><div class="line">            ele.removeEventListener(type, handler, false);</div><div class="line">        &#125; else if (ele.detachEvent) &#123;</div><div class="line">            ele.detachEvent(&quot;on&quot; + type, handler);</div><div class="line">        &#125; else &#123;</div><div class="line">            ele[&quot;on&quot; + type] = null;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><br>    为了让接下来的白色圈等效果更加明显，我们先涂背景。这里背景用纯色，暂定为深红色，颜色值为<code>rgb(174,0,0)</code>。<br><br>我们把制作背景色的代码封装成一个函数，然后在主函数中调用。这类工具绘图类函数我们以 paintXXX 命名。<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function paintBackground(ctx, sColor) &#123;</div><div class="line">    v_color = sColor;</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fillRect(0, 0, 500, 500);</div><div class="line">&#125;</div><div class="line">var v_color = &quot;rgb(174,0,0)&quot;;</div></pre></td></tr></table></figure>
<p><br>    在主函数<code>drawKumamon()</code>中调用：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">paintBackground(ctx, v_color);</div></pre></td></tr></table></figure>
<p><br>    熊本住在一个白色的圆圈里，它脸上的腮红也是圆圈。所以同样的，我们把画圆的代码封装成一个函数。<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function paintCircle(ctx, x, y, r, i, sColor) &#123;</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.moveTo(x - r, y);</div><div class="line">    ctx.arc(x, y, r, 0, i * Math.PI, false);</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fill();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br>    在主函数中调用：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">paintCircle(ctx, 250, 224, 191, 2, &quot;#fff&quot;);</div></pre></td></tr></table></figure>
<p><br>    这样，就在画布中间偏上的位置上有一个住着熊本熊的圆了。<br></p>

<h2 id="耳朵"><a href="#耳朵" class="headerlink" title="耳朵"></a>耳朵</h2><p><br>    熊本熊的两只耳朵就是黑色圆上面画一个小一点的白色圆。这两个圆的圆心是同一点。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//左耳朵</div><div class="line">paintCircle(ctx, 138, 120, 28, 2, &quot;#000&quot;);</div><div class="line">paintCircle(ctx, 138, 120, 15, 2, &quot;#fff&quot;);</div><div class="line">//右耳朵</div><div class="line">paintCircle(ctx, 365, 120, 28, 2, &quot;#000&quot;);</div><div class="line">paintCircle(ctx, 365, 120, 15, 2, &quot;#fff&quot;);</div></pre></td></tr></table></figure><br><br>## 脸<br><p><br>    熊本熊的脸是个椭圆。我们先来建一个绘制椭圆的工具函数。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function paintOval(ctx, x, y, a, b, i, sColor) &#123;</div><div class="line">    ctx.save();</div><div class="line">    var r = (a &gt; b) ? a : b;</div><div class="line">    var ratioX = a / r;</div><div class="line">    var ratioY = b / r;</div><div class="line">    ctx.scale(ratioX, ratioY);</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(x / ratioX, y / ratioY, r, 0, i * Math.PI, false);</div><div class="line">    ctx.closePath();</div><div class="line">    ctx.restore();</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fill();</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><p><br>    参数中的<code>(x,y)</code>组成了椭圆中心点的坐标，a，b 是椭圆的长短半径。i 的值为2时可以画出椭圆；sColor 是为椭圆上色的颜色的字符串表示。<br><br>    像这样调用：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">paintOval(ctx, 250, 210, 140, 118, 2, &quot;#000&quot;);</div></pre></td></tr></table></figure><br><br>## 眉毛<br><p><br>    眉毛是两条起末点直线距离（称为底边）相同，弧线最高点到底边的距离不同的二次贝塞尔曲线构成的封闭图形。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function bearEyebrow(ctx, h1, h2, x0, y0, y1, d, sColor) &#123;</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.moveTo(x0, y0);</div><div class="line">    var x1 = x0 + d;</div><div class="line">    var cp1x = x0 + d / 2;</div><div class="line">    var cp1y = y0 - h1;</div><div class="line">    var cp2y = y0 - h2;</div><div class="line">    ctx.quadraticCurveTo(cp1x, cp1y, x1, y1);</div><div class="line">    ctx.quadraticCurveTo(cp1x, cp2y, x0, y0);</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fill();</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><p><br>    调用:<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">bearEyebrow(ctx, 20, 10, 168, 133, 130, 32, &quot;#fff&quot;);</div><div class="line">bearEyebrow(ctx, 20, 10, 298, 130, 133, 32, &quot;#fff&quot;);</div></pre></td></tr></table></figure><br><br><p><br>    因为眉毛宽度和位置不一样显得俏皮一点，所以传入的参数没有设置成对称的。<br></p>

<h2 id="眼睛"><a href="#眼睛" class="headerlink" title="眼睛"></a>眼睛</h2><p><br>    眼黑、眼白都是立起来的椭圆。需要写一个旋转椭圆的函数。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">function paintRotatedOval(ctx, x, y, a, b, i, sColor, ang) &#123;</div><div class="line">    ctx.save();</div><div class="line">    var r = (a &gt; b) ? a : b;</div><div class="line">    var ratioX = a / r;</div><div class="line">    var ratioY = b / r;</div><div class="line">    ctx.translate(x / ratioX, y / ratioY);</div><div class="line">    ctx.rotate(ang * Math.PI / 180);</div><div class="line">    ctx.scale(ratioX, ratioY);</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(0, 0, r, 0, i * Math.PI, false);</div><div class="line">    ctx.closePath();</div><div class="line">    ctx.restore();</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fill();</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><p><br>    ↑↑ 最后一个参数是椭圆旋转角度。<br><br>    调用：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//左眼</div><div class="line">ctx.moveTo(160, 170);</div><div class="line">paintRotatedOval(ctx, 186, 170, 26, 27, 2, &quot;#fff&quot;, 90);</div><div class="line">ctx.moveTo(182, 170);</div><div class="line">paintOval(ctx, 192, 170, 4, 10, 2, &quot;#000&quot;);</div><div class="line">//右眼</div><div class="line">ctx.moveTo(273, 170);</div><div class="line">paintRotatedOval(ctx, 300, 170, 26, 27, 2, &quot;#fff&quot;, 90);</div><div class="line">ctx.moveTo(308, 170);</div><div class="line">paintOval(ctx, 312, 170, 4, 10, 2, &quot;#000&quot;);</div></pre></td></tr></table></figure><br><br>## 嘴<br><p><br>    嘴的部分有椭圆形的白色区域和黑色的两条闭合的二次贝塞尔曲线组成的嘴巴。<br><br>    给被二次贝塞尔围成的闭合区域着色：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function paintQuadratic(ctx, cpy, x0, y0, d, sColor) &#123;</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.moveTo(x0, y0);</div><div class="line">    var x1 = x0 + d;</div><div class="line">    var cpx = x0 + d / 2;</div><div class="line">    ctx.quadraticCurveTo(cpx, cpy, x1, y0);</div><div class="line">    ctx.closePath();</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fill();</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><p><br>    调用：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//嘴区域</div><div class="line">ctx.moveTo(186, 243);</div><div class="line">paintOval(ctx, 251, 243, 65, 52, 2, &quot;#fff&quot;);</div><div class="line">//嘴</div><div class="line">paintQuadratic(ctx, 240, 196, 253, 110, &quot;#000&quot;);</div><div class="line">paintQuadratic(ctx, 290, 196, 253, 110, &quot;#000&quot;);</div></pre></td></tr></table></figure><br><br>## 鼻子<br><p><br>    鼻子能拆成两半，是短半径不同的半椭圆。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//鼻子</div><div class="line">ctx.moveTo(228, 217);</div><div class="line">paintOval(ctx, 248, 217, 20, 17, 1, &quot;#000&quot;);</div><div class="line">ctx.moveTo(228, 142);</div><div class="line">paintRotatedOval(ctx, 248, 142, 20, 13, 1, &quot;#000&quot;, 180);</div></pre></td></tr></table></figure><br><br>## 腮红<br><p><br>    腮红是红色的圆。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//腮红</div><div class="line">ctx.moveTo(99, 227);</div><div class="line">paintCircle(ctx, 133, 227, 34, 2, &quot;rgb(255,0,2)&quot;);</div><div class="line">paintCircle(ctx, 366, 227, 34, 2, &quot;rgb(255,0,2)&quot;);</div></pre></td></tr></table></figure><br><br>## 身体<br><p><br>    为了让熊本熊头和身体的线条有所区别，身体的构造采用直线。<br><br>    在下巴的地方放一个矩形，营造一点熊本熊（也许有）的短脖子的感觉，然后矩形下面放一个上底和矩形长相同长度的等腰梯形。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">function bearBody(ctx, x0, y0, rectW, rectH, trapW, trapH, sColor) &#123;</div><div class="line">    var x1 = x0 - (trapW - rectW) / 2;</div><div class="line">    var y1 = y0 + rectH + trapH;</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.moveTo(x0, y0 + rectH);</div><div class="line">    ctx.lineTo(x1, y1);</div><div class="line">    ctx.lineTo(x1 + trapW, y1);</div><div class="line">    ctx.lineTo(x0 + rectW, y0 + rectH);</div><div class="line">    ctx.closePath();</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.globalCompositeOperation = &quot;source-atop&quot;;</div><div class="line">    ctx.fill();</div><div class="line">    ctx.moveTo(x0, y0);</div><div class="line">    ctx.lineTo(x0 + rectW, y0);</div><div class="line">    ctx.lineTo(x0 + rectW, y0 + rectH);</div><div class="line">    ctx.lineTo(x0, y0 + rectH);</div><div class="line">    ctx.lineTo(x0, y0);</div><div class="line">    ctx.fill();</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><p><br>    调用：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bearBody(ctx, 128, 241, 245, 40, 334, 140, &quot;#000&quot;);</div></pre></td></tr></table></figure><br><br>## 文字<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function paintText(ctx, txt,sColor) &#123;</div><div class="line">    inTxt = txt;</div><div class="line">    sColor = txtColor;</div><div class="line">    ctx.font = &quot;bold 36px Arial&quot;;</div><div class="line">    ctx.textAlign = &quot;center&quot;;</div><div class="line">    ctx.textBaseLine = &quot;middle&quot;;</div><div class="line">    ctx.fillStyle = sColor;</div><div class="line">    ctx.fillText(txt, 250, 462);</div><div class="line">&#125;</div><div class="line">var inTxt = &quot;你为什么不学习？！&quot;;</div><div class="line">var txtColor = &quot;#fff&quot;;</div></pre></td></tr></table></figure><br><br><p><br>    调用：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">paintText(ctx, inTxt,txtColor);</div></pre></td></tr></table></figure><br><br><p><br>    因为之前调用 bearBody 函数时改变过 globalCompositeOperation 为source-atop，也就是说画布上新的绘制将在目标图像顶部显示源图像。源图像位于目标图像之外的部分是不可见的。因为画布上先画的熊本熊待着的那个白色圆圈，所以圆圈以外的部分是不可见的。想看到文字，要在调用 paintText 前先更改 globalCompositeOperation 值为source-over。<br></p>

<h2 id="drawKumamon-js"><a href="#drawKumamon-js" class="headerlink" title="drawKumamon.js"></a>drawKumamon.js</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div></pre></td><td class="code"><pre><div class="line">function drawKumamon() &#123;</div><div class="line">    var ku = document.getElementById(&quot;kumamon&quot;);</div><div class="line">    if (ku.getContext) &#123;</div><div class="line">        var ctx = ku.getContext(&quot;2d&quot;);</div><div class="line">        //绘图代码</div><div class="line">        paintCircle(ctx, 250, 224, 191, 2, &quot;#fff&quot;);</div><div class="line">        bearBody(ctx, 128, 241, 245, 40, 334, 140, &quot;#000&quot;);</div><div class="line">        //左耳朵</div><div class="line">        paintCircle(ctx, 138, 120, 28, 2, &quot;#000&quot;);</div><div class="line">        paintCircle(ctx, 138, 120, 15, 2, &quot;#fff&quot;);</div><div class="line">        //右耳朵</div><div class="line">        paintCircle(ctx, 365, 120, 28, 2, &quot;#000&quot;);</div><div class="line">        paintCircle(ctx, 365, 120, 15, 2, &quot;#fff&quot;);</div><div class="line">        //脸</div><div class="line">        paintOval(ctx, 250, 210, 140, 118, 2, &quot;#000&quot;);</div><div class="line">        //眉毛</div><div class="line">        bearEyebrow(ctx, 20, 10, 168, 133, 130, 32, &quot;#fff&quot;);</div><div class="line">        bearEyebrow(ctx, 20, 10, 298, 130, 133, 32, &quot;#fff&quot;);</div><div class="line">        //左眼</div><div class="line">        ctx.moveTo(160, 170);</div><div class="line">        paintRotatedOval(ctx, 186, 170, 26, 27, 2, &quot;#fff&quot;, 90);</div><div class="line">        ctx.moveTo(182, 170);</div><div class="line">        paintOval(ctx, 192, 170, 4, 10, 2, &quot;#000&quot;);</div><div class="line">        //右眼</div><div class="line">        ctx.moveTo(273, 170);</div><div class="line">        paintRotatedOval(ctx, 300, 170, 26, 27, 2, &quot;#fff&quot;, 90);</div><div class="line">        ctx.moveTo(308, 170);</div><div class="line">        paintOval(ctx, 312, 170, 4, 10, 2, &quot;#000&quot;);</div><div class="line">        //嘴区域</div><div class="line">        ctx.moveTo(186, 243);</div><div class="line">        paintOval(ctx, 251, 243, 65, 52, 2, &quot;#fff&quot;);</div><div class="line">        //嘴</div><div class="line">        paintQuadratic(ctx, 240, 196, 253, 110, &quot;#000&quot;);</div><div class="line">        paintQuadratic(ctx, 290, 196, 253, 110, &quot;#000&quot;);</div><div class="line">        //鼻子</div><div class="line">        ctx.moveTo(228, 217);</div><div class="line">        paintOval(ctx, 248, 217, 20, 17, 1, &quot;#000&quot;);</div><div class="line">        ctx.moveTo(228, 142);</div><div class="line">        paintRotatedOval(ctx, 248, 142, 20, 13, 1, &quot;#000&quot;, 180);</div><div class="line">        //腮红</div><div class="line">        ctx.moveTo(99, 227);</div><div class="line">        paintCircle(ctx, 133, 227, 34, 2, &quot;rgb(255,0,2)&quot;);</div><div class="line">        paintCircle(ctx, 366, 227, 34, 2, &quot;rgb(255,0,2)&quot;);</div><div class="line">        //文字</div><div class="line">        ctx.globalCompositeOperation = &quot;source-over&quot;;</div><div class="line">        paintText(ctx, inTxt,txtColor);</div><div class="line">        paintBackground(ctx, v_color);</div><div class="line">    &#125;</div><div class="line">    &#125;</div><div class="line">    function paintBackground(ctx, sColor) &#123;</div><div class="line">        v_color = sColor;</div><div class="line">        ctx.globalCompositeOperation = &quot;destination-over&quot;;</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fillRect(0, 0, 500, 500);</div><div class="line">    &#125;</div><div class="line">    function paintCircle(ctx, x, y, r, i, sColor) &#123;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(x - r, y);</div><div class="line">        ctx.arc(x, y, r, 0, i * Math.PI, false);</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    function paintOval(ctx, x, y, a, b, i, sColor) &#123;</div><div class="line">        ctx.save();</div><div class="line">        var r = (a &gt; b) ? a : b;</div><div class="line">        var ratioX = a / r;</div><div class="line">        var ratioY = b / r;</div><div class="line">        ctx.scale(ratioX, ratioY);</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.arc(x / ratioX, y / ratioY, r, 0, i * Math.PI, false);</div><div class="line">        ctx.closePath();</div><div class="line">        ctx.restore();</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    function bearEyebrow(ctx, h1, h2, x0, y0, y1, d, sColor) &#123;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(x0, y0);</div><div class="line">        var x1 = x0 + d;</div><div class="line">        var cp1x = x0 + d / 2;</div><div class="line">        var cp1y = y0 - h1;</div><div class="line">        var cp2y = y0 - h2;</div><div class="line">        ctx.quadraticCurveTo(cp1x, cp1y, x1, y1);</div><div class="line">        ctx.quadraticCurveTo(cp1x, cp2y, x0, y0);</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    function paintRotatedOval(ctx, x, y, a, b, i, sColor, ang) &#123;</div><div class="line">        ctx.save();</div><div class="line">        var r = (a &gt; b) ? a : b;</div><div class="line">        var ratioX = a / r;</div><div class="line">        var ratioY = b / r;</div><div class="line">        ctx.translate(x / ratioX, y / ratioY);</div><div class="line">        ctx.rotate(ang * Math.PI / 180);</div><div class="line">        ctx.scale(ratioX, ratioY);</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.arc(0, 0, r, 0, i * Math.PI, false);</div><div class="line">        ctx.closePath();</div><div class="line">        ctx.restore();</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    function paintQuadratic(ctx, cpy, x0, y0, d, sColor) &#123;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(x0, y0);</div><div class="line">        var x1 = x0 + d;</div><div class="line">        var cpx = x0 + d / 2;</div><div class="line">        ctx.quadraticCurveTo(cpx, cpy, x1, y0);</div><div class="line">        ctx.closePath();</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    function bearBody(ctx, x0, y0, rectW, rectH, trapW, trapH, sColor) &#123;</div><div class="line">        var x1 = x0 - (trapW - rectW) / 2;</div><div class="line">        var y1 = y0 + rectH + trapH;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(x0, y0 + rectH);</div><div class="line">        ctx.lineTo(x1, y1);</div><div class="line">        ctx.lineTo(x1 + trapW, y1);</div><div class="line">        ctx.lineTo(x0 + rectW, y0 + rectH);</div><div class="line">        ctx.closePath();</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.globalCompositeOperation = &quot;source-atop&quot;;</div><div class="line">        ctx.fill();</div><div class="line">        ctx.moveTo(x0, y0);</div><div class="line">        ctx.lineTo(x0 + rectW, y0);</div><div class="line">        ctx.lineTo(x0 + rectW, y0 + rectH);</div><div class="line">        ctx.lineTo(x0, y0 + rectH);</div><div class="line">        ctx.lineTo(x0, y0);</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    function paintText(ctx, txt,sColor) &#123;</div><div class="line">        inTxt = txt;</div><div class="line">        sColor = txtColor;</div><div class="line">        ctx.font = &quot;bold 36px Arial&quot;;</div><div class="line">        ctx.textAlign = &quot;center&quot;;</div><div class="line">        ctx.textBaseLine = &quot;middle&quot;;</div><div class="line">        ctx.fillStyle = sColor;</div><div class="line">        ctx.fillText(txt, 250, 462);</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    var v_color = &quot;rgb(174,0,0)&quot;;</div><div class="line">    var inTxt = &quot;你为什么不学习？！&quot;;</div><div class="line">    var txtColor = &quot;#fff&quot;;</div><div class="line">    window.onload = function() &#123;</div><div class="line">        drawKumamon();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>原文地址：<a href="http://blog.ilanyy.com/html5/draw-kumamon-by-canvas.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="external">http://blog.ilanyy.com/html5/draw-kumamon-by-canvas.html?utm_source=tuicool&amp;utm_medium=referral</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;从网上看到一个用canvas绘制的熊本熊&quot;&gt;&lt;a href=&quot;#从网上看到一个用canvas绘制的熊本熊&quot; class=&quot;headerlink&quot; title=&quot;从网上看到一个用canvas绘制的熊本熊&quot;&gt;&lt;/a&gt;从网上看到一个用canvas绘制的熊本熊&lt;/h3&gt;&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>一道常被人轻视的前端JS面试题</title>
    <link href="http://yoursite.com/2016/10/25/jsmianshi/"/>
    <id>http://yoursite.com/2016/10/25/jsmianshi/</id>
    <published>2016-10-25T12:49:36.000Z</published>
    <updated>2016-11-25T13:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="题目如下："><a href="#题目如下：" class="headerlink" title="题目如下："></a>题目如下：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">function Foo() &#123;</div><div class="line">    getName = function () &#123; alert (1); &#125;;</div><div class="line">    return this;</div><div class="line">&#125;</div><div class="line">Foo.getName = function () &#123; alert (2);&#125;;</div><div class="line">Foo.prototype.getName = function () &#123; alert (3);&#125;;</div><div class="line">var getName = function () &#123; alert (4);&#125;;</div><div class="line">function getName() &#123; alert (5);&#125;</div><div class="line"></div><div class="line">//请写出以下输出结果：</div><div class="line">Foo.getName();</div><div class="line">getName();</div><div class="line">Foo().getName();</div><div class="line">getName();</div><div class="line">new Foo.getName();</div><div class="line">new Foo().getName();</div><div class="line">new new Foo().getName();</div></pre></td></tr></table></figure>
<h3 id="答案是："><a href="#答案是：" class="headerlink" title="答案是："></a>答案是：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">function Foo() &#123;</div><div class="line">    getName = function () &#123; alert (1); &#125;;</div><div class="line">    return this;</div><div class="line">&#125;</div><div class="line">Foo.getName = function () &#123; alert (2);&#125;;</div><div class="line">Foo.prototype.getName = function () &#123; alert (3);&#125;;</div><div class="line">var getName = function () &#123; alert (4);&#125;;</div><div class="line">function getName() &#123; alert (5);&#125;</div><div class="line"></div><div class="line">//答案：</div><div class="line">Foo.getName();//2</div><div class="line">getName();//4</div><div class="line">Foo().getName();//1</div><div class="line">getName();//1</div><div class="line">new Foo.getName();//2</div><div class="line">new Foo().getName();//3</div><div class="line">new new Foo().getName();//3</div></pre></td></tr></table></figure>
<p><br>    此题是我综合之前的开发经验以及遇到的JS各种坑汇集而成。此题涉及的知识点众多，包括变量定义提升、this指针指向、运算符优先级、原型、继承、全局变量污染、对象属性及原型属性优先级等等。<br>此题包含7小问，分别说下。<br></p>

<h2 id="第一问"><a href="#第一问" class="headerlink" title="第一问:"></a>第一问:</h2><p><br>    先看此题的上半部分做了什么，首先定义了一个叫Foo的函数，之后为Foo创建了一个叫getName的静态属性存储了一个匿名函数，之后为Foo的原型对象新创建了一个叫getName的匿名函数。之后又通过函数变量表达式创建了一个getName的函数，最后再声明一个叫getName函数。<br><br>第一问的 <code>Foo.getName</code> 自然是访问Foo函数上存储的静态属性，自然是2，没什么可说的。<br></p>

<h2 id="第二问"><a href="#第二问" class="headerlink" title="第二问:"></a>第二问:</h2><p><br>    第二问，直接调用 getName 函数。既然是直接调用那么就是访问当前上文作用域内的叫<code>getName</code>的函数，所以跟1 2 3都没什么关系。此题有无数面试者回答为5。此处有两个坑，一是变量声明提升，二是函数表达式。<br></p>

<h3 id="变量声明提升"><a href="#变量声明提升" class="headerlink" title="变量声明提升"></a>变量声明提升</h3><p><br>即所有声明变量或声明函数都会被提升到当前函数的顶部。<br><br>例如下代码:<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">console.log(&apos;x&apos; in window);//true</div><div class="line">var x;</div><div class="line">x = 0;</div></pre></td></tr></table></figure>
<p><br>    代码执行时js引擎会将声明语句提升至代码最上方，变为：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var x;</div><div class="line">console.log(&apos;x&apos; in window);//true</div><div class="line">x = 0;</div></pre></td></tr></table></figure>
<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><p><br>     <code>var getName</code>与 <code>function getName</code> 都是声明语句，区别在于 <code>var getName</code>是函数表达式，而 <code>function getName</code> 是函数声明。关于JS中的各种函数创建方式可以看<a href="http://www.cnblogs.com/xxcanghai/p/4991870.html" target="_blank" rel="external">大部分人都会做错的经典JS闭包面试题</a>这篇文章有详细说明。<br><br>函数表达式最大的问题，在于js会将此代码拆分为两行代码分别执行。<br><br>例如下代码：<br></p>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">console.log(x);//输出：function x()&#123;&#125;</div><div class="line">var x=1;</div><div class="line">function x()&#123;&#125;</div></pre></td></tr></table></figure>
<p><br>    实际执行的代码为，先将 <code>var x=1</code> 拆分为 <code>var x;</code> 和 <code>x = 1;</code> 两行，再将 <code>var x;</code> 和 <code>function x(){}</code>两行提升至最上方变成：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var x;</div><div class="line">function x()&#123;&#125;</div><div class="line">console.log(x);</div><div class="line">x=1;</div></pre></td></tr></table></figure><br><br><p><br>    所以最终函数声明的x覆盖了变量声明的x，log输出为x函数。<br><br>同理，原题中代码最终执行时的是：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function Foo() &#123;</div><div class="line">    getName = function () &#123; alert (1); &#125;;</div><div class="line">    return this;</div><div class="line">&#125;</div><div class="line">var getName;//只提升变量声明</div><div class="line">function getName() &#123; alert (5);&#125;//提升函数声明，覆盖var的声明</div><div class="line"></div><div class="line">Foo.getName = function () &#123; alert (2);&#125;;</div><div class="line">Foo.prototype.getName = function () &#123; alert (3);&#125;;</div><div class="line">getName = function () &#123; alert (4);&#125;;//最终的赋值再次覆盖function getName声明</div><div class="line"></div><div class="line">getName();//最终输出4</div></pre></td></tr></table></figure><br><br>## 第三问<br><br><p><br>    第三问的 <code>Foo().getName();</code> 先执行了Foo函数，然后调用Foo函数的返回值对象的getName属性函数。<br><br>Foo函数的第一句 <code>getName = function () { alert (1); };</code> 是一句函数赋值语句，注意它没有var声明，所以先向当前Foo函数作用域内寻找getName变量，没有。再向当前函数作用域上层，即外层作用域内寻找是否含有getName变量，找到了，也就是第二问中的alert(4)函数，将此变量的值赋值为 <code>function(){alert(1)}</code>。<br><br>此处实际上是将外层作用域内的getName函数修改了。<br></p><br><p>此处实际上是将外层作用域内的getName函数修改了。</p>

<h4 id="注意：此处若依然没有找到会一直向上查找到window对象，若window对象中也没有getName属性，就在window对象中创建一个getName变量。"><a href="#注意：此处若依然没有找到会一直向上查找到window对象，若window对象中也没有getName属性，就在window对象中创建一个getName变量。" class="headerlink" title="注意：此处若依然没有找到会一直向上查找到window对象，若window对象中也没有getName属性，就在window对象中创建一个getName变量。"></a>注意：此处若依然没有找到会一直向上查找到window对象，若window对象中也没有getName属性，就在window对象中创建一个getName变量。</h4><p><br>    之后Foo函数的返回值是this，而JS的this问题博客园中已经有非常多的文章介绍，这里不再多说。<br><br>简单的讲，this的指向是由所在函数的调用方式决定的。而此处的直接调用方式，this指向window对象。<br><br>遂Foo函数返回的是window对象，相当于执行 <code>window.getName()</code>，而window中的getName已经被修改为alert(1)，所以最终会输出1<br><br>此处考察了两个知识点，一个是变量作用域问题，一个是this指向问题。<br></p>

<h2 id="第四问"><a href="#第四问" class="headerlink" title="第四问"></a>第四问</h2><p>直接调用getName函数，相当于 <code>window.getName()</code> ，因为这个变量已经被Foo函数执行时修改了，遂结果与第三问相同，为1</p>

<h2 id="第五问"><a href="#第五问" class="headerlink" title="第五问"></a>第五问</h2><p><br>    第五问 <code>new Foo.getName();</code>,此处考察的是js的运算符优先级问题。<br></p>

<h3 id="js运算符优先级"><a href="#js运算符优先级" class="headerlink" title="js运算符优先级:"></a>js运算符优先级:</h3><p><img src="http://images2015.cnblogs.com/blog/746158/201602/746158-20160214172949325-418813184.png" alt="746158-20160214172949325-418813184"></p>
<h3 id="参考链接-https-developer-mozilla-org-zh-CN-docs-Web-JavaScript-Reference-Operators-Operator-Precedence"><a href="#参考链接-https-developer-mozilla-org-zh-CN-docs-Web-JavaScript-Reference-Operators-Operator-Precedence" class="headerlink" title="参考链接   https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence"></a>参考链接   <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence</a></h3><p><br>    通过查上表可以得知点（.）的优先级高于new操作，遂相当于是:<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new (Foo.getName)();</div></pre></td></tr></table></figure><br><br><p><br>    所以实际上将getName函数作为了构造函数来执行，遂弹出2。<br></p>

<h2 id="第六问"><a href="#第六问" class="headerlink" title="第六问"></a>第六问</h2><p><br>    第六问 <code>new Foo().getName()</code> ，首先看运算符优先级括号高于new，实际执行为<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(new Foo()).getName()</div></pre></td></tr></table></figure><br><br><p><br>    遂先执行Foo函数，而Foo此时作为构造函数却有返回值，所以这里需要说明下js中的构造函数返回值问题。<br></p><br><p><br>    原题中，返回的是this，而this在构造函数中本来就代表当前实例化对象，遂最终Foo函数返回实例化对象。<br><br>之后调用实例化对象的getName函数，因为在Foo构造函数中没有为实例化对象添加任何属性，遂到当前对象的原型对象（prototype）中寻找getName，找到了。<br><br>遂最终输出3。<br></p>


<h2 id="第七问"><a href="#第七问" class="headerlink" title="第七问"></a>第七问</h2><p><br>    第七问, <code>new new Foo().getName();</code> 同样是运算符优先级问题。<br><br>最终实际执行为：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new ((new Foo()).getName)();</div></pre></td></tr></table></figure><br><br><p><br>    先初始化Foo的实例化对象，然后将其原型上的getName函数作为构造函数再次new。<br><br>遂最终结果为3<br></p>


<p>转载自-&gt;<a href="http://www.cnblogs.com/xxcanghai/p/5189353.html" target="_blank" rel="external">http://www.cnblogs.com/xxcanghai/p/5189353.html</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;题目如下：&quot;&gt;&lt;a href=&quot;#题目如下：&quot; class=&quot;headerlink&quot; title=&quot;题目如下：&quot;&gt;&lt;/a&gt;题目如下：&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>javascript实现点击按钮复制指定区域文本</title>
    <link href="http://yoursite.com/2016/10/22/jsCopy/"/>
    <id>http://yoursite.com/2016/10/22/jsCopy/</id>
    <published>2016-10-22T11:20:58.000Z</published>
    <updated>2016-11-25T11:45:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>html5的webAPI接口可以很轻松的使用短短的几行代码就实现点击按钮复制区域文本的功能，不需要依赖flash。<br></p>

<h3 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下:"></a>代码如下:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">/* 创建range对象   */</div><div class="line">const range = document.createRange();</div><div class="line">range.selectNode(element);    // 设定range包含的节点对象 </div><div class="line"></div><div class="line">/* 窗口的selection对象，表示用户选择的文本 */</div><div class="line">const selection = window.getSelection();</div><div class="line">if(selection.rangeCount &gt; 0) selection.removeAllRanges(); // 将已经包含的已选择的对象清除掉</div><div class="line">selection.addRange(range);                                // 将要复制的区域的range对象添加到selection对象中</div><div class="line"></div><div class="line">document.execCommand(&apos;copy&apos;); // 执行copy命令，copy用户选择的文本</div></pre></td></tr></table></figure>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试:"></a>测试:</h3><p>edge浏览器、Chrome（v54.0.2840.99 m）、Firefox（v49.0.1）可用。<br><br>IE9、IE10、IE11会弹出提示询问是否将文本粘贴到剪贴板上。<br><br>IE7、IE8不支持该功能。<br><br>IOS10的Safari浏览器可用。<br><br>根据反馈，IOS9以下的Safari浏览器应该是不支持该功能的。<br></p>

<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo:"></a>Demo:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;Title&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;article id=&quot;article&quot;&gt;</div><div class="line">    &lt;h4&gt;公园一日游&lt;/h4&gt;</div><div class="line">    &lt;time&gt;2016.8.15 星期二&lt;/time&gt;</div><div class="line">    &lt;p&gt;今天风和日丽，我和小红去了人民公园，玩了滑梯、打雪仗、划船，真是愉快的一天啊。&lt;/p&gt;</div><div class="line">&lt;/article&gt;</div><div class="line">&lt;button id=&quot;copy&quot;&gt;复制文章&lt;/button&gt;</div><div class="line">&lt;textarea style=&quot;width: 500px;height: 100px;&quot; placeholder=&quot;试一试ctrl + v&quot;&gt;&lt;/textarea&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    function copyArticle(event)&#123;</div><div class="line">        const range = document.createRange();</div><div class="line">        range.selectNode(document.getElementById(&apos;article&apos;));</div><div class="line"></div><div class="line">        const selection = window.getSelection();</div><div class="line">        if(selection.rangeCount &gt; 0) selection.removeAllRanges();</div><div class="line">        selection.addRange(range);</div><div class="line">        </div><div class="line">        document.execCommand(&apos;copy&apos;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    document.getElementById(&apos;copy&apos;).addEventListener(&apos;click&apos;, copyArticle, false);</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>转载-&gt;<a href="https://zhuanlan.zhihu.com/p/23920249" target="_blank" rel="external">https://zhuanlan.zhihu.com/p/23920249</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;html5的webAPI接口可以很轻松的使用短短的几行代码就实现点击按钮复制区域文本的功能，不需要依赖flash。&lt;br&gt;&lt;/p&gt;

&lt;h3 id=&quot;代码如下&quot;&gt;&lt;a href=&quot;#代码如下&quot; class=&quot;headerlink&quot; title=&quot;代码如下:&quot;&gt;&lt;/a&gt;代码如
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Javascript定义类（class）的三种方法</title>
    <link href="http://yoursite.com/2016/10/18/clss/"/>
    <id>http://yoursite.com/2016/10/18/clss/</id>
    <published>2016-10-18T11:57:46.000Z</published>
    <updated>2016-11-21T01:45:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>在面向对象编程中，类（class）是对象（object）的模板，定义了同一组对象（又称”实例”）共有的属性和方法。<br>Javascript语言不支持”类”，但是可以用一些变通的方法，模拟出”类”。<br>一、构造函数法<br>这是经典方法，也是教科书必教的方法。它用构造函数模拟”类”，在其内部用this关键字指代实例对象。<br>　　<figure class="highlight plain"><figcaption><span>Cat() &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">　　　　this.name = &quot;大毛&quot;;</div><div class="line">　　&#125;</div></pre></td></tr></table></figure></p>
<p>生成实例的时候，使用new关键字。<br>　　<figure class="highlight plain"><figcaption><span>cat1 = new Cat();</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">　　alert(cat1.name); // 大毛</div></pre></td></tr></table></figure></p>
<p>类的属性和方法，还可以定义在构造函数的prototype对象之上。<br>　　<figure class="highlight plain"><figcaption><span>= function()&#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">　　　　alert(&quot;喵喵喵&quot;);</div><div class="line">　　&#125;</div></pre></td></tr></table></figure></p>
<p>关于这种方法的详细介绍，请看我写的系列文章《Javascript 面向对象编程》，这里就不多说了。它的主要缺点是，比较复杂，用到了this和prototype，编写和阅读都很费力。<br>二、Object.create()法<br>为了解决”构造函数法”的缺点，更方便地生成对象，Javascript的国际标准ECMAScript第五版（目前通行的是第三版），提出了一个新的方法Object.create()。<br>用这个方法，”类”就是一个对象，不是函数。<br>　　<figure class="highlight plain"><figcaption><span>Cat = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">　　　　name: &quot;大毛&quot;,</div><div class="line">　　　　makeSound: function()&#123; alert(&quot;喵喵喵&quot;); &#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>然后，直接用Object.create()生成实例，不需要用到new。<br>　　<figure class="highlight plain"><figcaption><span>cat1 = Object.create(Cat);</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">　　alert(cat1.name); // 大毛</div><div class="line">　　cat1.makeSound(); // 喵喵喵</div></pre></td></tr></table></figure></p>
<p>目前，各大浏览器的最新版本（包括IE9）都部署了这个方法。如果遇到老式浏览器，可以用下面的代码自行部署。<br>　　<figure class="highlight plain"><figcaption><span>(!Object.create) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">　　　　Object.create = function (o) &#123;</div><div class="line">　　　　　　 function F() &#123;&#125;</div><div class="line">　　　　　　F.prototype = o;</div><div class="line">　　　　　　return new F();</div><div class="line">　　　　&#125;;</div><div class="line">　　&#125;</div></pre></td></tr></table></figure></p>
<p>这种方法比”构造函数法”简单，但是不能实现私有属性和私有方法，实例对象之间也不能共享数据，对”类”的模拟不够全面。<br>三、极简主义法<br>荷兰程序员Gabor de Mooij提出了一种比Object.create()更好的新方法，他称这种方法为”极简主义法”（minimalist approach）。这也是我推荐的方法。<br>3.1 封装<br>这种方法不使用this和prototype，代码部署起来非常简单，这大概也是它被叫做”极简主义法”的原因。<br>首先，它也是用一个对象模拟”类”。在这个类里面，定义一个构造函数createNew()，用来生成实例。<br>　　<figure class="highlight plain"><figcaption><span>Cat = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">　　　　createNew: function()&#123;</div><div class="line">　　　　　　// some code here</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>然后，在createNew()里面，定义一个实例对象，把这个实例对象作为返回值。<br>　　<figure class="highlight plain"><figcaption><span>Cat = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">　　　　createNew: function()&#123;</div><div class="line">　　　　　　var cat = &#123;&#125;;</div><div class="line">　　　　　　cat.name = &quot;大毛&quot;;</div><div class="line">　　　　　　cat.makeSound = function()&#123; alert(&quot;喵喵喵&quot;); &#125;;</div><div class="line">　　　　　　return cat;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>使用的时候，调用createNew()方法，就可以得到实例对象。<br>　　<figure class="highlight plain"><figcaption><span>cat1 = Cat.createNew();</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">　　cat1.makeSound(); // 喵喵喵</div></pre></td></tr></table></figure></p>
<p>这种方法的好处是，容易理解，结构清晰优雅，符合传统的”面向对象编程”的构造，因此可以方便地部署下面的特性。<br>3.2 继承<br>让一个类继承另一个类，实现起来很方便。只要在前者的createNew()方法中，调用后者的createNew()方法即可。<br>先定义一个Animal类。<br>　　<figure class="highlight plain"><figcaption><span>Animal = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">　　　　createNew: function()&#123;</div><div class="line">　　　　　　var animal = &#123;&#125;;</div><div class="line">　　　　　　animal.sleep = function()&#123; alert(&quot;睡懒觉&quot;); &#125;;</div><div class="line">　　　　　　return animal;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>然后，在Cat的createNew()方法中，调用Animal的createNew()方法。<br>　　<figure class="highlight plain"><figcaption><span>Cat = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">　　　　createNew: function()&#123;</div><div class="line">　　　　　　var cat = Animal.createNew();</div><div class="line">　　　　　　cat.name = &quot;大毛&quot;;</div><div class="line">　　　　　　cat.makeSound = function()&#123; alert(&quot;喵喵喵&quot;); &#125;;</div><div class="line">　　　　　　return cat;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>这样得到的Cat实例，就会同时继承Cat类和Animal类。<br>　　<figure class="highlight plain"><figcaption><span>cat1 = Cat.createNew();</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">　　cat1.sleep(); // 睡懒觉</div></pre></td></tr></table></figure></p>
<p>3.3 私有属性和私有方法<br>在createNew()方法中，只要不是定义在cat对象上的方法和属性，都是私有的。<br>　　<figure class="highlight plain"><figcaption><span>Cat = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">　　　　createNew: function()&#123;</div><div class="line">　　　　　　var cat = &#123;&#125;;</div><div class="line">　　　　　　var sound = &quot;喵喵喵&quot;;</div><div class="line">　　　　　　cat.makeSound = function()&#123; alert(sound); &#125;;</div><div class="line">　　　　　　return cat;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>上例的内部变量sound，外部无法读取，只有通过cat的公有方法makeSound()来读取。<br>　　<figure class="highlight plain"><figcaption><span>cat1 = Cat.createNew();</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">　　alert(cat1.sound); // undefined</div></pre></td></tr></table></figure></p>
<p>3.4 数据共享<br>有时候，我们需要所有实例对象，能够读写同一项内部数据。这个时候，只要把这个内部数据，封装在类对象的里面、createNew()方法的外面即可。<br>　　<figure class="highlight plain"><figcaption><span>Cat = &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">　　　　sound : &quot;喵喵喵&quot;,</div><div class="line">　　　　createNew: function()&#123;</div><div class="line">　　　　　　var cat = &#123;&#125;;</div><div class="line">　　　　　　cat.makeSound = function()&#123; alert(Cat.sound); &#125;;</div><div class="line">　　　　　　cat.changeSound = function(x)&#123; Cat.sound = x; &#125;;</div><div class="line">　　　　　　return cat;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div></pre></td></tr></table></figure></p>
<p>然后，生成两个实例对象：<br>　　<figure class="highlight plain"><figcaption><span>cat1 = Cat.createNew();</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">　　var cat2 = Cat.createNew();</div><div class="line">　　cat1.makeSound(); // 喵喵喵</div></pre></td></tr></table></figure></p>
<p>这时，如果有一个实例对象，修改了共享的数据，另一个实例对象也会受到影响。<br>　　<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">　　cat1.makeSound(); // 啦啦啦</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在面向对象编程中，类（class）是对象（object）的模板，定义了同一组对象（又称”实例”）共有的属性和方法。&lt;br&gt;Javascript语言不支持”类”，但是可以用一些变通的方法，模拟出”类”。&lt;br&gt;一、构造函数法&lt;br&gt;这是经典方法，也是教科书必教的方法。它用构造
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>canvas动画时钟</title>
    <link href="http://yoursite.com/2016/10/15/canvasClock/"/>
    <id>http://yoursite.com/2016/10/15/canvasClock/</id>
    <published>2016-10-15T06:10:24.000Z</published>
    <updated>2016-11-21T01:34:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>开始用canvas实现这个逼格满满的时钟吧。在html代码中插入canvas标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</div></pre></td></tr></table></figure></p>
<p>设置好css样式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">html, body &#123;</div><div class="line">   width: 100%;</div><div class="line">   height: 100%;</div><div class="line">   margin: 0;</div><div class="line"> &#125;</div><div class="line"> canvas &#123;</div><div class="line">   border: 1px solid #eee;</div><div class="line">   position: relative;</div><div class="line">   left: 50%;</div><div class="line">   top: 50%;</div><div class="line">   transform: translate(-50%, -50%);</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>在js文件中创建画布。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function clock() &#123;</div><div class="line">  var ctx = document.getElementById(&apos;canvas&apos;).getContext(&apos;2d&apos;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>先来绘制时钟表盘，我们看到这张图是带有光线阴影效果的，画成一样难度太高。于是就用颜色的渐变来让时钟看起来稍微立体一点。在canvas中用createLinearGradient来创建一个新的渐变，并用addColorStop上色，最后把颜色赋给strokeStyle。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//绘制表盘底色</div><div class="line">ctx.translate(200, 200); //将坐标原点移到画布中心</div><div class="line">ctx.rotate(-Math.PI/2); //将坐标轴逆时针旋转90度，x轴正方向对准12点方向</div><div class="line">var lingrad = ctx.createLinearGradient(150, 0, -150, 0);</div><div class="line">lingrad.addColorStop(0, &apos;#242f37&apos;);</div><div class="line">lingrad.addColorStop(1, &apos;#48585c&apos;);</div><div class="line">ctx.fillStyle = lingrad;</div><div class="line">ctx.beginPath();</div><div class="line">ctx.arc(0, 0, 150, 0, Math.PI * 2, true);</div><div class="line">ctx.fill();</div></pre></td></tr></table></figure></p>
<p>比较关键的一点是画布的坐标轴x轴正方向是时钟3点钟方向，为了方便起见，我们把它逆时针旋转90度让它指向十二点钟方向。</p>
<p>绘制刻度要用到旋转rotate，小时刻度有12个，相邻两个刻度与圆心连线的角度就是Math.PI/6，这里用的是弧度表示，也就是30度。那么我们就用for循环来画出小时的刻度。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">for (var i = 0; i &lt; 12; i++) &#123;</div><div class="line">  ctx.beginPath();</div><div class="line">  ctx.strokeStyle = &apos;#fff&apos;;</div><div class="line">  ctx.lineWidth = 3;</div><div class="line">  ctx.rotate(Math.PI / 6);</div><div class="line">  ctx.moveTo(140, 0);</div><div class="line">  ctx.lineTo(120, 0);</div><div class="line">  ctx.stroke();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>同理，分钟的刻度也一样。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ctx.beginPath();</div><div class="line">for (i = 0; i &lt; 60; i++) &#123;</div><div class="line">  if (i % 5 !== 0) &#123; //去掉与小时刻度重叠的部分</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.strokeStyle = &apos;#536b7a&apos;;</div><div class="line">    ctx.lineWidth = 2;</div><div class="line">    ctx.moveTo(140, 0);</div><div class="line">    ctx.lineTo(130, 0);</div><div class="line">    ctx.stroke();</div><div class="line">  &#125;</div><div class="line">  ctx.rotate(Math.PI / 30);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>表盘大致画好了，刻度也画好了，接下来就是绘制指针并让它指向正确的时间，是不是？不就就是画一条直线么。关键是指针rotate的角度是多少呢？其实也是比较简单的。先获取当前的时间，把小时转换为12小时制的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var now = new Date(),</div><div class="line">    sec = now.getSeconds(),</div><div class="line">    min = now.getMinutes(),</div><div class="line">    hr = now.getHours();</div><div class="line">hr = hr &gt; 12 ? hr - 12 : hr;</div></pre></td></tr></table></figure></p>
<p>那么，时针的位置就是（相对于x轴正方向转过的角度）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ctx.rotate(hr * (Math.PI / 6) + min * (Math.PI / 360) + sec * (Math.PI / 21600));</div></pre></td></tr></table></figure></p>
<p>同理，分针和秒针的位置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ctx.rotate(min * (Math.PI / 30) + sec * (Math.PI/1800)); //分针</div><div class="line">ctx.rotate(sec * (Math.PI /30)); //秒针</div></pre></td></tr></table></figure></p>
<p>最后，最关键的让指针转动起来，这里要用到的是requestAnimationFrame方法，用来重绘页面，得到连贯逐帧的动画，实现最佳的动画效果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">window.requestAnimationFrame(callback);</div></pre></td></tr></table></figure></p>
<p>这个callback就是我们的绘制时钟的clock()函数。需要注意的是每次执行完requestAnimationFrame后需要清除画布，不然出现重叠交错的现象，我们把它放在clock函数开始的地方。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ctx.clearRect(0, 0, canvas.width, canvas.height);</div></pre></td></tr></table></figure></p>
<p>码整齐的代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div></pre></td><td class="code"><pre><div class="line">(function clock() &#123;</div><div class="line">     var ctx = document.getElementById(&apos;canvas&apos;).getContext(&apos;2d&apos;);</div><div class="line">     var now = new Date(),</div><div class="line">         sec = now.getSeconds(),</div><div class="line">         min = now.getMinutes(),</div><div class="line">         hr = now.getHours();</div><div class="line">     hr = hr &gt; 12 ? hr - 12 : hr;</div><div class="line"></div><div class="line">     //绘制表盘底色</div><div class="line">     ctx.save();</div><div class="line">     ctx.clearRect(0, 0, 400, 400);</div><div class="line">     ctx.translate(200, 200);</div><div class="line">     ctx.rotate(-Math.PI/2); //将坐标轴逆时针旋转90度，x轴正方向对准12点方向</div><div class="line">     var lingrad = ctx.createLinearGradient(150, 0, -150, 0);</div><div class="line">     lingrad.addColorStop(0, &apos;#242f37&apos;);</div><div class="line">     lingrad.addColorStop(1, &apos;#48585c&apos;);</div><div class="line">     ctx.fillStyle = lingrad;</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.arc(0, 0, 150, 0, Math.PI * 2, true);</div><div class="line">     ctx.fill();</div><div class="line"></div><div class="line">     //小时刻度</div><div class="line">     ctx.save();</div><div class="line">     for (var i = 0; i &lt; 12; i++) &#123;</div><div class="line">       ctx.beginPath();</div><div class="line">       ctx.strokeStyle = &apos;#fff&apos;;</div><div class="line">       ctx.lineWidth = 3;</div><div class="line">       ctx.rotate(Math.PI / 6);</div><div class="line">       ctx.moveTo(140, 0);</div><div class="line">       ctx.lineTo(120, 0);</div><div class="line">       ctx.stroke();</div><div class="line">     &#125;</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     //分钟刻度</div><div class="line">     ctx.save();</div><div class="line">     ctx.beginPath();</div><div class="line">     for (i = 0; i &lt; 60; i++) &#123;</div><div class="line">       if (i % 5 !== 0) &#123;</div><div class="line">         ctx.beginPath();</div><div class="line">         ctx.strokeStyle = &apos;#536b7a&apos;;</div><div class="line">         ctx.lineWidth = 2;</div><div class="line">         ctx.moveTo(140, 0);</div><div class="line">         ctx.lineTo(130, 0);</div><div class="line">         ctx.stroke();</div><div class="line">       &#125;</div><div class="line">       ctx.rotate(Math.PI / 30);</div><div class="line">     &#125;</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     //时间文字</div><div class="line">     ctx.save();</div><div class="line">     ctx.rotate(Math.PI/2);</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.fillStyle = &apos;#58717e&apos;;</div><div class="line">     ctx.font = &apos;32px Microsoft yahei&apos;;</div><div class="line">     ctx.textAlign = &apos;center&apos;;</div><div class="line">     ctx.textBaseline = &apos;middle&apos;;</div><div class="line">     ctx.fillText(&apos;3&apos;, 100, 0);</div><div class="line">     ctx.fillText(&apos;6&apos;, 0, 100);</div><div class="line">     ctx.fillText(&apos;9&apos;, -100, 0);</div><div class="line">     ctx.fillText(&apos;12&apos;, 0, -100);</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     //时针</div><div class="line">     ctx.save();</div><div class="line">     ctx.rotate(hr * (Math.PI / 6) + min * (Math.PI / 360) + sec * (Math.PI / 21600));</div><div class="line">     ctx.lineWidth = 10;</div><div class="line">     ctx.strokeStyle = &apos;#fff&apos;;</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.moveTo(0, 0);</div><div class="line">     ctx.lineTo(110, 0);</div><div class="line">     ctx.stroke();</div><div class="line">     ctx.fillStyle = &apos;#34434c&apos;;</div><div class="line">     ctx.arc(102, 0, 3, 0, Math.PI * 2, true);</div><div class="line">     ctx.fill();</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     //分针</div><div class="line">     ctx.save();</div><div class="line">     ctx.rotate(min * (Math.PI / 30) + sec * (Math.PI/1800));</div><div class="line">     ctx.lineWidth = 6;</div><div class="line">     ctx.strokeStyle = &apos;#fff&apos;;</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.moveTo(0, 0);</div><div class="line">     ctx.lineTo(135, 0);</div><div class="line">     ctx.stroke();</div><div class="line"></div><div class="line">     ctx.lineWidth = 3;</div><div class="line">     ctx.strokeStyle = &apos;#34434c&apos;;</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.moveTo(130, 0);</div><div class="line">     ctx.lineTo(115, 0);</div><div class="line">     ctx.stroke();</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     //秒针</div><div class="line">     ctx.save();</div><div class="line">     ctx.rotate(sec * (Math.PI /30));</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.lineWidth = 4;</div><div class="line">     ctx.strokeStyle = &apos;#fff&apos;;</div><div class="line">     ctx.moveTo(0, 0);</div><div class="line">     ctx.lineTo(141, 0);</div><div class="line">     ctx.stroke();</div><div class="line"></div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.lineWidth = 12;</div><div class="line">     ctx.strokeStyle = &apos;#fff&apos;;</div><div class="line">     ctx.moveTo(0, 0);</div><div class="line">     ctx.lineTo(-38, 0);</div><div class="line">     ctx.stroke();</div><div class="line"></div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.fillStyle = &apos;#fff&apos;;</div><div class="line">     ctx.arc(0, 0, 15, 0, Math.PI * 2, true);</div><div class="line">     ctx.fill();</div><div class="line"></div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.strokeStyle = &apos;#cdd2d5&apos;;</div><div class="line">     ctx.lineWidth = 1;</div><div class="line">     ctx.arc(0, 0, 8, 0, Math.PI * 2, true);</div><div class="line">     ctx.stroke();</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     //边框</div><div class="line">     ctx.beginPath();</div><div class="line">     ctx.lineWidth = 7;</div><div class="line">     var lingrad2 = ctx.createLinearGradient(150, 0, -150, 0);</div><div class="line">     lingrad2.addColorStop(0, &apos;#adb9c5&apos;);</div><div class="line">     lingrad2.addColorStop(1, &apos;#e9eced&apos;);</div><div class="line">     ctx.strokeStyle = lingrad2;</div><div class="line">     ctx.arc(0,0,152,0,Math.PI*2,true);</div><div class="line">     ctx.stroke();</div><div class="line">     ctx.restore();</div><div class="line"></div><div class="line">     window.requestAnimationFrame(clock);</div><div class="line">   &#125;)();</div></pre></td></tr></table></figure></p>
<p>转载-&gt;<a href="https://segmentfault.com/a/1190000007405217" target="_blank" rel="external">https://segmentfault.com/a/1190000007405217</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;开始用canvas实现这个逼格满满的时钟吧。在html代码中插入canvas标签&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JavaScript奇技淫巧44招</title>
    <link href="http://yoursite.com/2016/10/10/javascript/"/>
    <id>http://yoursite.com/2016/10/10/javascript/</id>
    <published>2016-10-10T03:21:09.000Z</published>
    <updated>2016-11-21T01:34:28.000Z</updated>
    
    <content type="html"><![CDATA[<p></p><p>JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简单提示框，也可以通过nodebot或nodruino来控制机器人。能够编写结构清晰、性能高效的JavaScript代码的开发人员，现如今已成了招聘市场最受追捧的人</p><br>1、首次为变量赋值时务必使用var关键字<p></p>
<pre><code>变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。
</code></pre><p>2、使用===取代==</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">==和!=操作符会在需要的情况下自动转换数据类型。但===和!==不会，它们会同时比较值和数据类型，这也使得它们要比==和!=快。</div><div class="line">[10] === 10    // is false</div><div class="line">[10]  == 10    // is true</div><div class="line">&apos;10&apos; == 10     // is true</div><div class="line">&apos;10&apos; === 10    // is false</div><div class="line"> []   == 0     // is true</div><div class="line"> [] ===  0     // is false</div><div class="line"> &apos;&apos; == false   // is true but true == &quot;a&quot; is false</div><div class="line"> &apos;&apos; === false  // is false</div></pre></td></tr></table></figure>
<p>3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false</p>
<p>4、行尾使用分号</p>
<pre><code>实践中最好还是使用分号，忘了写也没事，大部分情况下JavaScript解释器都会自动添加。对于为何要使用分号，可参考文章JavaScript中关于分号的真相（https://davidwalsh.name/javascript-semicolons）。
</code></pre><p>5、使用对象构造器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function Person(firstName, lastName)&#123;</div><div class="line">    this.firstName =  firstName;</div><div class="line">    this.lastName = lastName;</div><div class="line">&#125;</div><div class="line">var Saad = new Person(&quot;Saad&quot;, &quot;Mousliki&quot;);</div></pre></td></tr></table></figure>
<p>6、小心使用typeof、instanceof和contructor</p>
<pre><code>typeof：JavaScript一元操作符，用于以字符串的形式返回变量的原始类型，注意，typeof null也会返回object，大多数的对象类型（数组Array、时间Date等）也会返回object

contructor：内部原型属性，可以通过代码重写

instanceof：JavaScript操作符，会在原型链中的构造器中搜索，找到则返回true，否则返回false
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</div><div class="line">typeof arr;   // 返回 &quot;object&quot; </div><div class="line">arr instanceof Array // true</div><div class="line">arr.constructor();  //[]</div></pre></td></tr></table></figure>
<p>7、使用自调用函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">函数在创建之后直接自动执行，通常称之为自调用匿名函数（Self-Invoked Anonymous Function）或直接调用函数表达式（Immediately Invoked Function Expression ）。格式如下：</div><div class="line"> </div><div class="line"></div><div class="line">(function()&#123;</div><div class="line">    // 置于此处的代码将自动执行</div><div class="line">&#125;)();  </div><div class="line">(function(a,b)&#123;</div><div class="line">    var result = a+b;</div><div class="line">    return result;</div><div class="line">&#125;)(10,20)</div></pre></td></tr></table></figure>
<p>8、从数组中随机获取成员</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var items = [12, 548 , &apos;a&apos; , 2 , 5478 , &apos;foo&apos; , 8852, , &apos;Doe&apos; , 2145 , 119];</div><div class="line">var  randomItem = items[Math.floor(Math.random() * items.length)];</div></pre></td></tr></table></figure>
<p>9、获取指定范围内的随机数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">var x = Math.floor(Math.random() * (max - min + 1)) + min;</div></pre></td></tr></table></figure>
<p>10、生成从0到指定值的数字数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var numbersArray = [] , max = 100;</div><div class="line">for( var i=1; numbersArray.push(i++) &lt; max;);  // numbers = [1,2,3 ... 100]</div></pre></td></tr></table></figure>
<p>11、生成随机的字母数字字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function generateRandomAlphaNum(len) &#123;</div><div class="line">    var rdmString = &quot;&quot;;</div><div class="line">    for( ; rdmString.length &lt; len; rdmString  += Math.random().toString(36).substr(2));</div><div class="line">    return  rdmString.substr(0, len);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>12、打乱数字数组的顺序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];</div><div class="line">numbers = numbers.sort(function()&#123; return Math.random() - 0.5&#125;);</div><div class="line">/* numbers 数组将类似于 [120, 5, 228, -215, 400, 458, -85411, 122205]  */</div><div class="line">这里使用了JavaScript内置的数组排序函数，更好的办法是用专门的代码来实现（如Fisher-Yates算法），可以参见StackOverFlow上的这个讨论。</div></pre></td></tr></table></figure>
<p>13、字符串去空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">String.prototype.trim = function()&#123;return this.replace(/^\s+|\s+$/g, &quot;&quot;);&#125;;</div><div class="line">新的JavaScript引擎已经有了trim()的原生实现。</div></pre></td></tr></table></figure>
<p>14、数组之间追加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var array1 = [12 , &quot;foo&quot; , &#123;name &quot;Joe&quot;&#125; , -2458];</div><div class="line">var array2 = [&quot;Doe&quot; , 555 , 100];</div><div class="line">Array.prototype.push.apply(array1, array2);</div><div class="line">/* array1 值为  [12 , &quot;foo&quot; , &#123;name &quot;Joe&quot;&#125; , -2458 , &quot;Doe&quot; , 555 , 100] */</div></pre></td></tr></table></figure>
<p>15、对象转换为数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var argArray = Array.prototype.slice.call(arguments);</div></pre></td></tr></table></figure>
<p>16、验证是否是数字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function isNumber(n)&#123;</div><div class="line">    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>17、验证是否是数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">function isArray(obj)&#123;</div><div class="line">    return Object.prototype.toString.call(obj) === &apos;[object Array]&apos; ;</div><div class="line">&#125;</div><div class="line">但如果toString()方法被重写过得话，就行不通了。也可以使用下面的方法：</div><div class="line"> </div><div class="line"></div><div class="line">Array.isArray(obj); // its a new Array method</div><div class="line">如果在浏览器中没有使用frame，还可以用instanceof，但如果上下文太复杂，也有可能出错。</div><div class="line"> </div><div class="line"></div><div class="line">var myFrame = document.createElement(&apos;iframe&apos;);</div><div class="line">document.body.appendChild(myFrame);</div><div class="line">var myArray = window.frames[window.frames.length-1].Array;</div><div class="line">var arr = new myArray(a,b,10); // [a,b,10]  </div><div class="line">// myArray 的构造器已经丢失，instanceof 的结果将不正常</div><div class="line">// 构造器是不能跨 frame 共享的</div><div class="line">arr instanceof Array; // false</div></pre></td></tr></table></figure>
<p>18、获取数组中的最大值和最小值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var  numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411]; </div><div class="line">var maxInNumbers = Math.max.apply(Math, numbers); </div><div class="line">var minInNumbers = Math.min.apply(Math, numbers);</div></pre></td></tr></table></figure>
<p>19、清空数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var myArray = [12 , 222 , 1000 ];  </div><div class="line">myArray.length = 0; // myArray will be equal to [].</div></pre></td></tr></table></figure>
<p>20、不要直接从数组中delete或remove元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">切忌：</div><div class="line"> </div><div class="line"></div><div class="line">var items = [12, 548 ,&apos;a&apos; , 2 , 5478 , &apos;foo&apos; , 8852, , &apos;Doe&apos; ,2154 , 119 ]; </div><div class="line">items.length; // return 11 </div><div class="line">delete items[3]; // return true </div><div class="line">items.length; // return 11 </div><div class="line">/* items 结果为 [12, 548, &quot;a&quot;, undefined × 1, 5478, &quot;foo&quot;, 8852, undefined × 1, &quot;Doe&quot;, 2154, 119] */</div><div class="line">而应：</div><div class="line"> </div><div class="line"></div><div class="line">var items = [12, 548 ,&apos;a&apos; , 2 , 5478 , &apos;foo&apos; , 8852, , &apos;Doe&apos; ,2154 , 119 ]; </div><div class="line">items.length; // return 11 </div><div class="line">items.splice(3,1) ; </div><div class="line">items.length; // return 10 </div><div class="line">/* items 结果为 [12, 548, &quot;a&quot;, 5478, &quot;foo&quot;, 8852, undefined × 1, &quot;Doe&quot;, 2154, 119]</div><div class="line">删除对象的属性时可以使用delete。</div></pre></td></tr></table></figure>
<p>21、使用length属性截断数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];  </div><div class="line">myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].</div><div class="line">与此同时，如果把length属性变大，数组的长度值变会增加，会使用undefined来作为新的元素填充。length是一个可写的属性。</div><div class="line"> </div><div class="line"></div><div class="line">myArray.length = 10; // the new array length is 10 </div><div class="line">myArray[myArray.length - 1] ; // undefined</div></pre></td></tr></table></figure>
<p>22、在条件中使用逻辑与或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var foo = 10;  </div><div class="line">foo == 10 &amp;&amp; doSomething(); // is the same thing as if (foo == 10) doSomething(); </div><div class="line">foo == 5 || doSomething(); // is the same thing as if (foo != 5) doSomething();</div><div class="line">逻辑或还可用来设置默认值，比如函数参数的默认值。</div><div class="line"> </div><div class="line"></div><div class="line">function doSomething(arg1)&#123; </div><div class="line">    arg1 = arg1 || 10; // arg1 will have 10 as a default value if it’s not already set</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>23、使得map()函数方法对数据循环</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var squares = [1,2,3,4].map(function (val) &#123;  </div><div class="line">    return val * val;  </div><div class="line">&#125;); </div><div class="line">// squares will be equal to [1, 4, 9, 16]</div></pre></td></tr></table></figure>
<p>24、保留指定小数位数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var num =2.443242342;</div><div class="line">num = num.toFixed(4);  // num will be equal to 2.4432</div><div class="line">注意，toFixec()返回的是字符串，不是数字。</div></pre></td></tr></table></figure>
<p>25、浮点计算的问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">0.1 + 0.2 === 0.3 // is false </div><div class="line">9007199254740992 + 1 // is equal to 9007199254740992</div><div class="line">9007199254740992 + 2 // is equal to 9007199254740994</div><div class="line">为什么呢？因为0.1+0.2等于0.30000000000000004。JavaScript的数字都遵循IEEE 754标准构建，在内部都是64位浮点小数表示，具体可以参见JavaScript中的数字是如何编码的.</div><div class="line">可以通过使用toFixed()和toPrecision()来解决这个问题。</div></pre></td></tr></table></figure>
<p>26、通过for-in循环检查对象的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for (var name in object) &#123;  </div><div class="line">    if (object.hasOwnProperty(name)) &#123; </div><div class="line">        // do something with name</div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>27、逗号操作符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var a = 0; </div><div class="line">var b = ( a++, 99 ); </div><div class="line">console.log(a);  // a will be equal to 1 </div><div class="line">console.log(b);  // b is equal to 99</div></pre></td></tr></table></figure>
<p>28、临时存储用于计算和查询的变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var navright = document.querySelector(&apos;#right&apos;); </div><div class="line">var navleft = document.querySelector(&apos;#left&apos;); </div><div class="line">var navup = document.querySelector(&apos;#up&apos;); </div><div class="line">var navdown = document.querySelector(&apos;#down&apos;);</div></pre></td></tr></table></figure>
<p>29、提前检查传入isFinite()的参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">isFinite(0/0) ; // false</div><div class="line">isFinite(&quot;foo&quot;); // false</div><div class="line">isFinite(&quot;10&quot;); // true</div><div class="line">isFinite(10);   // true</div><div class="line">isFinite(undefined);  // false</div><div class="line">isFinite();   // false</div><div class="line">isFinite(null);  // true，这点当特别注意</div></pre></td></tr></table></figure>
<p>30、避免在数组中使用负数做索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var numbersArray = [1,2,3,4,5];</div><div class="line">var from = numbersArray.indexOf(&quot;foo&quot;) ;  // from is equal to -1</div><div class="line">numbersArray.splice(from,2);    // will return [5]</div><div class="line">注意传给splice的索引参数不要是负数，当是负数时，会从数组结尾处删除元素。</div></pre></td></tr></table></figure>
<p>31、用JSON来序列化与反序列化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var person = &#123;name :&apos;Saad&apos;, age : 26, department : &#123;ID : 15, name : &quot;R&amp;D&quot;&#125; &#125;;</div><div class="line">var stringFromPerson = JSON.stringify(person);</div><div class="line">/* stringFromPerson 结果为 &quot;&#123;&quot;name&quot;:&quot;Saad&quot;,&quot;age&quot;:26,&quot;department&quot;:&#123;&quot;ID&quot;:15,&quot;name&quot;:&quot;R&amp;D&quot;&#125;&#125;&quot;   */</div><div class="line">var personFromString = JSON.parse(stringFromPerson);</div><div class="line">/* personFromString 的值与 person 对象相同  */</div></pre></td></tr></table></figure>
<p>32、不要使用eval()或者函数构造器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">eval()和函数构造器（Function consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</div><div class="line"> </div><div class="line"></div><div class="line">var func1 = new Function(functionCode);</div><div class="line">var func2 = eval(functionCode);</div></pre></td></tr></table></figure>
<p>33、避免使用with()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">34、不要对数组使用for-in</div><div class="line"></div><div class="line">```避免：</div><div class="line"> </div><div class="line"></div><div class="line">var sum = 0;  </div><div class="line">for (var i in arrayNumbers) &#123;  </div><div class="line">    sum += arrayNumbers[i];  </div><div class="line">&#125;</div><div class="line">而是：</div><div class="line"> </div><div class="line"></div><div class="line">var sum = 0;  </div><div class="line">for (var i = 0, len = arrayNumbers.length; i &lt; len; i++) &#123;  </div><div class="line">    sum += arrayNumbers[i];  </div><div class="line">&#125;</div><div class="line">另外一个好处是，i和len两个变量是在for循环的第一个声明中，二者只会初始化一次，这要比下面这种写法快：</div><div class="line"> </div><div class="line"></div><div class="line">for (var i = 0; i &lt; arrayNumbers.length; i++)</div></pre></td></tr></table></figure>
<p>35、传给setInterval()和setTimeout()时使用函数而不是字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line">setInterval(&apos;doSomethingPeriodically()&apos;, 1000);  </div><div class="line">setTimeout(&apos;doSomethingAfterFiveSeconds()&apos;, 5000);</div><div class="line">而是用：</div><div class="line"> </div><div class="line"></div><div class="line">setInterval(doSomethingPeriodically, 1000);  </div><div class="line">setTimeout(doSomethingAfterFiveSeconds, 5000);</div></pre></td></tr></table></figure>
<p>36、使用switch/case代替一大叠的if/else</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">37、在switch/case中使用数字区间</div><div class="line"></div><div class="line">```其实，switch/case中的case条件，还可以这样写：</div><div class="line"> </div><div class="line"></div><div class="line">function getCategory(age) &#123;  </div><div class="line">    var category = &quot;&quot;;  </div><div class="line">    switch (true) &#123;  </div><div class="line">        case isNaN(age):  </div><div class="line">            category = &quot;not an age&quot;;  </div><div class="line">            break;  </div><div class="line">        case (age &gt;= 50):  </div><div class="line">            category = &quot;Old&quot;;  </div><div class="line">            break;  </div><div class="line">        case (age &lt;= 20):  </div><div class="line">            category = &quot;Baby&quot;;  </div><div class="line">            break;  </div><div class="line">        default:  </div><div class="line">            category = &quot;Young&quot;;  </div><div class="line">            break;  </div><div class="line">    &#125;;  </div><div class="line">    return category;  </div><div class="line">&#125;  </div><div class="line">getCategory(5);  // 将返回 &quot;Baby&quot;</div></pre></td></tr></table></figure>
<p>38、使用对象作为对象的原型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line">function clone(object) &#123;  </div><div class="line">    function OneShotConstructor()&#123;&#125;; </div><div class="line">    OneShotConstructor.prototype = object;  </div><div class="line">    return new OneShotConstructor(); </div><div class="line">&#125; </div><div class="line">clone(Array).prototype ;  // []</div></pre></td></tr></table></figure>
<p>39、HTML字段转换函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function escapeHTML(text) &#123;  </div><div class="line">    var replacements= &#123;&quot;&lt;&quot;: &quot;&amp;lt;&quot;, &quot;&gt;&quot;: &quot;&amp;gt;&quot;,&quot;&amp;&quot;: &quot;&amp;amp;&quot;, &quot;\&quot;&quot;: &quot;&amp;quot;&quot;&#125;;                      </div><div class="line">    return text.replace(/[&lt;&gt;&amp;&quot;]/g, function(character) &#123;  </div><div class="line">        return replacements[character];  </div><div class="line">    &#125;); </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>40、不要在循环内部使用try-catch-finally</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">切忌：</div><div class="line"> </div><div class="line">var object = [&apos;foo&apos;, &apos;bar&apos;], i;  </div><div class="line">for (i = 0, len = object.length; i &lt;len; i++) &#123;  </div><div class="line">    try &#123;  </div><div class="line">        // do something that throws an exception </div><div class="line">    &#125;  </div><div class="line">    catch (e) &#123;   </div><div class="line">        // handle exception  </div><div class="line">    &#125; </div><div class="line">&#125;</div><div class="line">而应该：</div><div class="line"> </div><div class="line">var object = [&apos;foo&apos;, &apos;bar&apos;], i;  </div><div class="line">try &#123; </div><div class="line">    for (i = 0, len = object.length; i &lt;len; i++) &#123;  </div><div class="line">        // do something that throws an exception </div><div class="line">    &#125; </div><div class="line">&#125; </div><div class="line">catch (e) &#123;   </div><div class="line">    // handle exception  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>41、使用XMLHttpRequests时注意设置超时</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">var xhr = new XMLHttpRequest (); </div><div class="line">xhr.onreadystatechange = function () &#123;  </div><div class="line">    if (this.readyState == 4) &#123;  </div><div class="line">        clearTimeout(timeout);  </div><div class="line">        // do something with response data </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">var timeout = setTimeout( function () &#123;  </div><div class="line">    xhr.abort(); // call error callback  </div><div class="line">&#125;, 60*1000 /* timeout after a minute */ ); </div><div class="line">xhr.open(&apos;GET&apos;, url, true);  </div><div class="line">xhr.send();</div><div class="line">同时需要注意的是，不要同时发起多个XMLHttpRequests请求。</div></pre></td></tr></table></figure>
<p>42、处理WebSocket的超时</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">为了防止这种情况的发生，可以每隔一定时间，往服务器发送一条空的消息。可以通过下面这两个函数来实现这个需求，一个用于使连接保持活动状态，另一个专门用于结束这个状态。</div><div class="line"> </div><div class="line"></div><div class="line">var timerID = 0; </div><div class="line">function keepAlive() &#123; </div><div class="line">    var timeout = 15000;  </div><div class="line">    if (webSocket.readyState == webSocket.OPEN) &#123;  </div><div class="line">        webSocket.send(&apos;&apos;);  </div><div class="line">    &#125;  </div><div class="line">    timerId = setTimeout(keepAlive, timeout);  </div><div class="line">&#125;  </div><div class="line">function cancelKeepAlive() &#123;  </div><div class="line">    if (timerId) &#123;  </div><div class="line">        cancelTimeout(timerId);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div><div class="line">keepAlive()函数可以放在WebSocket连接的onOpen()方法的最后面，cancelKeepAlive()放在onClose()方法的最末尾。</div></pre></td></tr></table></figure>
<p>43、时间注意原始操作符比函数调用快，使用VanillaJS</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var min = Math.min(a,b); </div><div class="line">A.push(v);</div><div class="line">可以这样来代替：</div><div class="line"> </div><div class="line"></div><div class="line">var min = a &lt; b ? a : b; </div><div class="line">A[A.length] = v;</div></pre></td></tr></table></figure>
<p>44、开发时注意代码结构，上线前检查并压缩JavaScript代码</p>
<p><code>可以使用JSLint或JSMin等工具来检查并压缩代码。</code></p>
<p>转载<a href="http://www.cnblogs.com/libin-1/p/5999197.html" target="_blank" rel="external">http://www.cnblogs.com/libin-1/p/5999197.html</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;/p&gt;&lt;p&gt;JavaScript是一个绝冠全球的编程语言，可用于Web开发、移动应用开发（PhoneGap、Appcelerator）、服务器端开发（Node.js和Wakanda）等等。JavaScript还是很多新手踏入编程世界的第一个语言。既可以用来显示浏览器中的简
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>canvas绘制七巧板</title>
    <link href="http://yoursite.com/2016/10/06/qiqiaoban/"/>
    <id>http://yoursite.com/2016/10/06/qiqiaoban/</id>
    <published>2016-10-06T11:08:15.000Z</published>
    <updated>2016-11-21T01:33:56.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">	&lt;title&gt;&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">	&lt;canvas width=&quot;800&quot; height=&quot;800&quot; id=&quot;canvas&quot; style=&quot;display:block;border:1px solid #000;&quot;&gt;</div><div class="line">		不支持</div><div class="line">	&lt;/canvas&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">var canvas = document.querySelector(&quot;#canvas&quot;);</div><div class="line">var context = canvas.getContext(&apos;2d&apos;);</div><div class="line">var xian =[</div><div class="line">		&#123;a:[&#123;x:0,y:0&#125;,&#123;x:400,y:400&#125;,&#123;x:0,y:800&#125;],color:&quot;red&quot;&#125;,</div><div class="line">		&#123;a:[&#123;x:0,y:0&#125;,&#123;x:400,y:400&#125;,&#123;x:800,y:0&#125;],color:&quot;green&quot;&#125;,</div><div class="line">		&#123;a:[&#123;x:800,y:0&#125;,&#123;x:800,y:400&#125;,&#123;x:600,y:600&#125;,&#123;x:600,y:200&#125;],color:&quot;#ef3d61&quot;&#125;,</div><div class="line">    	&#123;a:[&#123;x:600,y:200&#125;,&#123;x:600,y:600&#125;,&#123;x:400,y:400&#125;],color:&quot;#f9f51a&quot;&#125;,</div><div class="line">    	&#123;a:[&#123;x:400,y:400&#125;,&#123;x:600,y:600&#125;,&#123;x:400,y:800&#125;,&#123;x:200,y:600&#125;],color:&quot;#a54c09&quot;&#125;,</div><div class="line">   		&#123;a:[&#123;x:200,y:600&#125;,&#123;x:400,y:800&#125;,&#123;x:0,y:800&#125;],color:&quot;#fa8ccc&quot;&#125;,</div><div class="line">    	&#123;a:[&#123;x:800,y:400&#125;,&#123;x:800,y:800&#125;,&#123;x:400,y:800&#125;],color:&quot;#f6ca29&quot;&#125;</div><div class="line">	];</div><div class="line"></div><div class="line">	//第一种方法</div><div class="line">// for(var i = 0;i&lt;xian.length;i++)&#123;</div><div class="line">// 	context.beginPath();</div><div class="line">// 	context.moveTo(xian[i].a[0].x,xian[i].a[0].y);</div><div class="line">// 	for (var j = 0; j &lt; xian[i].a.length; j++) &#123;</div><div class="line">// 		context.lineTo(xian[i].a[j].x,xian[i].a[j].y);</div><div class="line">// 	&#125;</div><div class="line">// 	context.closePath();</div><div class="line">// 	context.fillStyle = xian[i].color;</div><div class="line">// 	context.stroke();</div><div class="line">// 	context.fill();</div><div class="line">// &#125;</div><div class="line"></div><div class="line"></div><div class="line">//第二种方法</div><div class="line">for (var i = 0; i &lt; xian.length; i++) &#123;</div><div class="line">       dian(xian[i]);</div><div class="line">   &#125;;</div><div class="line"></div><div class="line">function dian (item) &#123;</div><div class="line">       context.beginPath(); </div><div class="line">       context.moveTo(item.a[0].x,item.a[0].y);</div><div class="line">     	for (var i = 1; i &lt; item.a.length; i++) &#123;</div><div class="line">           context.lineTo(item.a[i].x,item.a[i].y); </div><div class="line">       &#125;;</div><div class="line">         </div><div class="line">       context.fillStyle = item.color;</div><div class="line">       context.closePath();</div><div class="line">       context.stroke();</div><div class="line">       context.fill(); </div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>canvas基础使用</title>
    <link href="http://yoursite.com/2016/10/03/canvas/"/>
    <id>http://yoursite.com/2016/10/03/canvas/</id>
    <published>2016-10-03T09:26:50.000Z</published>
    <updated>2016-11-21T01:32:49.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">	&lt;title&gt;&lt;/title&gt;</div><div class="line">	&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">		#canvas&#123;</div><div class="line">			display: block;</div><div class="line">			margin: 0 auto;</div><div class="line">			box-shadow: 3px 3px 3px ;</div><div class="line">		&#125;</div><div class="line">		#can&#123;</div><div class="line">			display: block;</div><div class="line">			border:1px #000 solid;</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">	&lt;canvas id=&quot;canvas&quot;&gt;</div><div class="line">		你的浏览器不支持canvas</div><div class="line">	&lt;/canvas&gt;	</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">	// 1.获取canvas元素</div><div class="line">	var canvas = document.querySelector(&quot;#canvas&quot;);</div><div class="line">	canvas.width=400;</div><div class="line">	canvas.height=400;</div><div class="line"></div><div class="line">	// 2.定义画图环境</div><div class="line">	var context = canvas.getContext(&quot;2d&quot;);</div><div class="line"></div><div class="line">	// 3.画线条</div><div class="line">	// moveTo(x,y) 定义线条的起点位置</div><div class="line">	// lineTo(x,y) 定义线条的终点位置</div><div class="line">	context.beginPath();</div><div class="line">	context.moveTo(100,100);</div><div class="line">	context.lineTo(300,300);</div><div class="line">	context.lineTo(100,300);</div><div class="line">	context.lineTo(100,100);</div><div class="line">	// stroke() 开始绘画</div><div class="line">	context.stroke();</div><div class="line">	// lineWidth 线条宽度</div><div class="line">	// strokeStyle 线条的样式</div><div class="line">	// fillStyle  填充</div><div class="line">	// beginPath  开始一个新的路径</div><div class="line">	// closePath  关闭这个路径</div><div class="line">	context.fillStyle = &quot;red&quot;;</div><div class="line">	context.fill();</div><div class="line">	context.closePath();</div><div class="line">	</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;HTML&quot;&gt;&lt;a href=&quot;#HTML&quot; class=&quot;headerlink&quot; title=&quot;HTML&quot;&gt;&lt;/a&gt;HTML&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>this对象</title>
    <link href="http://yoursite.com/2016/09/29/this/"/>
    <id>http://yoursite.com/2016/09/29/this/</id>
    <published>2016-09-29T06:06:38.000Z</published>
    <updated>2016-11-21T01:32:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>1.纯粹的函数调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function test()&#123;</div><div class="line">      	this.x = 1;</div><div class="line">       alert(this.x);</div><div class="line">   &#125;</div><div class="line">   test();//1</div></pre></td></tr></table></figure>
<p>2.函数作为某个对象的方法进行调用，这是this就指向这个上级的对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function test()</div><div class="line">   &#123;</div><div class="line">       alert(this.x);</div><div class="line">   &#125;</div><div class="line">   var o = &#123;&#125;;</div><div class="line">   o.x = 1;</div><div class="line">   o.m = test;</div><div class="line">   o.m();//1</div></pre></td></tr></table></figure>
<p>3.作为构造函数进行调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function test()&#123;</div><div class="line">       this.x = 1;</div><div class="line">   &#125;</div><div class="line">   var test1 = new test();</div><div class="line">   alert(test1.x);//1</div></pre></td></tr></table></figure>
<p>为了证明此时this不是指向全局变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var x = 2;</div><div class="line">   function test()&#123;</div><div class="line">    this.x = 1;</div><div class="line">   &#125;</div><div class="line">   var o = new test();</div><div class="line">   alert(x);//2</div></pre></td></tr></table></figure>
<p>4.apply调用apply方法中第一个参数就是this指向的对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var x = 2;</div><div class="line">   function test()&#123;</div><div class="line">       alert(this.x);</div><div class="line">   &#125;</div><div class="line">   var o = &#123;&#125;;</div><div class="line">   o.x = 1;</div><div class="line">   o.m = test;</div><div class="line">   o.m.apply(o);</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;1.纯粹的函数调用&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div c
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JS设置CSS样式的几种方式</title>
    <link href="http://yoursite.com/2016/09/22/jcstyle/"/>
    <id>http://yoursite.com/2016/09/22/jcstyle/</id>
    <published>2016-09-22T11:21:21.000Z</published>
    <updated>2016-11-21T01:31:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>用JS来动态设置CSS样式，常见的有以下几种</p><br>1. 直接设置style的属性  某些情况用这个设置 !important值无效<br><br><p>如果属性有’-‘号，就写成驼峰的形式（如textAlign）  如果想保留 - 号，就中括号的形式</p>  <figure class="highlight plain"><figcaption><span>= '100px';</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.style.height = &apos;100px&apos;;</div></pre></td></tr></table></figure><br><br>2. 直接设置属性（只能用于某些属性，相关样式会自动识别）<br><br><figure class="highlight plain"><figcaption><span>100);</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.setAttribute(&apos;height&apos;, &apos;100px&apos;);</div></pre></td></tr></table></figure><br><br>3. 设置style的属性<br><br><figure class="highlight plain"><figcaption><span>'height: 100px !important');```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">4. 使用setProperty  如果要设置!important，推荐用这种方法设置第三个参数</div><div class="line"></div><div class="line">```element.style.setProperty(&apos;height&apos;, &apos;300px&apos;, &apos;important&apos;);</div></pre></td></tr></table></figure><br><br>5. 改变class   比如JQ的更改class相关方法<br><br><p>因JS获取不到css的伪元素，所以可以通过改变伪元素父级的class来动态更改伪元素的样式</p>

<figure class="highlight plain"><figcaption><span>= 'blue';</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.className += &apos;blue fb&apos;;</div></pre></td></tr></table></figure>
<ol>
<li>设置cssText</li>
</ol>
<figure class="highlight plain"><figcaption><span>= 'height: 100px !important';</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.style.cssText += &apos;height: 100px !important&apos;;</div></pre></td></tr></table></figure>
<ol>
<li>创建引入新的css样式文件</li>
</ol>
<pre><code><figure class="highlight plain"><figcaption><span>addNewStyle(newStyle) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">    var styleElement = document.getElementById(&apos;styles_js&apos;);</div><div class="line"></div><div class="line">    if (!styleElement) &#123;</div><div class="line">        styleElement = document.createElement(&apos;style&apos;);</div><div class="line">        styleElement.type = &apos;text/css&apos;;</div><div class="line">        styleElement.id = &apos;styles_js&apos;;</div><div class="line">        document.getElementsByTagName(&apos;head&apos;)[0].appendChild(styleElement);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    styleElement.appendChild(document.createTextNode(newStyle));</div><div class="line">&#125;</div><div class="line"></div><div class="line">addNewStyle(&apos;.box &#123;height: 100px !important;&#125;&apos;);</div></pre></td></tr></table></figure>
</code></pre><ol>
<li><p>使用addRule、insertRule</p>
 <figure class="highlight plain"><figcaption><span>在原有样式操作</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">document.styleSheets[0].addRule(&apos;.box&apos;, &apos;height: 100px&apos;);</div><div class="line">document.styleSheets[0].insertRule(&apos;.box &#123;height: 100px&#125;&apos;, 0);</div><div class="line"></div><div class="line">// 或者插入新样式时操作</div><div class="line">var styleEl = document.createElement(&apos;style&apos;),</div><div class="line">    styleSheet = styleEl.sheet;</div><div class="line"></div><div class="line">styleSheet.addRule(&apos;.box&apos;, &apos;height: 100px&apos;);</div><div class="line">styleSheet.insertRule(&apos;.box &#123;height: 100px&#125;&apos;, 0);</div><div class="line"></div><div class="line">document.head.appendChild(styleEl);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>转载-&gt;<a href="http://www.cnblogs.com/imwtr/p/6051325.html" target="_blank" rel="external">http://www.cnblogs.com/imwtr/p/6051325.html</a>     </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用JS来动态设置CSS样式，常见的有以下几种&lt;/p&gt;&lt;br&gt;1. 直接设置style的属性  某些情况用这个设置 !important值无效&lt;br&gt;&lt;br&gt;&lt;p&gt;如果属性有’-‘号，就写成驼峰的形式（如textAlign）  如果想保留 - 号，就中括号的形式&lt;/p&gt;  &lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>js数组排序与去重</title>
    <link href="http://yoursite.com/2016/09/15/shuzu/"/>
    <id>http://yoursite.com/2016/09/15/shuzu/</id>
    <published>2016-09-15T12:06:31.000Z</published>
    <updated>2016-11-21T01:31:24.000Z</updated>
    
    <content type="html"><![CDATA[<p></p><p>冒泡排序：<br>从数组中随便拿一个数与后一位比较，如果前者比后者大，那么两者交换位置，从而遍历数组可以得到排序的效果</p><br><figure class="highlight plain"><figcaption><span>arr = [1, 9, 4, 50, 49, 6, 3, 2];</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">function test()&#123;</div><div class="line">  for (var i = 0; i &lt; arr.length - 1; i++)&#123;</div><div class="line">    for (var j = i + 1; j &lt; arr.length; j++)&#123;</div><div class="line">      var tempi = arr[i]; //获取第一个值，并与后一个值比较</div><div class="line">      var tempj = arr[j];</div><div class="line">      if (tempi &gt; tempj)&#123;</div><div class="line">        arr[i] = tempj;</div><div class="line">        arr[j] = tempi;//如果前一个值比后一个值大，那么相互交换</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125; </div><div class="line">  console.log(arr); //return arr；</div><div class="line">&#125;</div><div class="line">test();//调用函数</div></pre></td></tr></table></figure><p></p>
<p></p><p>快速排序：<br>在数组中间那一个值，然后用这个值跟数组里面的值相比较，大于此值的放在一边，小于的也放在一边，然后用concat()合并，再进行比较，如此反复</p><br><figure class="highlight plain"><figcaption><span>arr = [1, 9, 4, 50, 49, 6, 3, 2];</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">function test(arr)&#123;</div><div class="line">  if (arr.length &lt;= 1) return arr;//如果数组只有一位，就没有必要比较了</div><div class="line">  var index = Math.floor(arr.length / 2);//获取中间值的索引</div><div class="line">  var cur = arr.splice(index, 1);//截取中间值，如果此处使用cur=arr[index]; 那么将会出现无限递归的错误</div><div class="line">  var left = [], right = [];//小于中间值的放在left数组里，大于的放在right数组</div><div class="line">  for (var i = 0; i &lt; arr.length; i++)&#123;</div><div class="line">    if (cur &gt; arr[i])&#123;</div><div class="line">      left.push(arr[i]);</div><div class="line">    &#125; else&#123;</div><div class="line">      right.push(arr[i]);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  return test(left).concat(cur, test(right));//通过递归，上一轮比较好的数组合并，并且再次进行比较</div><div class="line">&#125;</div><div class="line">test(arr);</div></pre></td></tr></table></figure><p></p>
<p></p><p>sort()方法：简单粗暴</p><br><figure class="highlight plain"><figcaption><span>arr = [1, 9, 4, 50, 49, 6, 3, 2];</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function test()&#123;</div><div class="line">  return arr.sort(sortNumber);</div><div class="line">&#125;</div><div class="line">function sortNumber(a, b)&#123;</div><div class="line">  return a - b;</div><div class="line">&#125;</div><div class="line">test();</div></pre></td></tr></table></figure><p></p>
<p></p><p>方法一：</p><br><figure class="highlight plain"><figcaption><span>arr = [1, 'a', 'a', 'b', 'd', 'e', 'e', 1, 0]</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function test()&#123;</div><div class="line">  for (var i = 0; i &lt; arr.length; i++)&#123;</div><div class="line">    for(var j = i + 1; j &lt; arr.length; j++)&#123;</div><div class="line">      if(arr[i] === arr[j]) arr.splice(j,1);//如果前一个值与后一个值相等，那么就去掉后一个值，splice()可以修改原数组</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  return arr;</div><div class="line">&#125;</div><div class="line">test();</div></pre></td></tr></table></figure><p></p>
<p></p><p>方法二</p><br><figure class="highlight plain"><figcaption><span>arr = [1, 1, 4, 50, 50, 6, 2, 2];</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function test()&#123;</div><div class="line">  return arr.filter(function(item,index,array)&#123;</div><div class="line">    return array.indexOf(item) === index; </div><div class="line">    //或者这样写return array.indexOf(item, index+1) === -1; 如果没有重复项，返回true</div><div class="line">    //用filter方法，返回ietm对应的indexOf索引值与本身index索引值相等的值，也就是去掉重复的值，filter本身不修改数组，只是会自动遍历数组，去掉重复值后，那么arr就剩下不重复的了</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line">test();//输出Array [ 1, 4, 50, 6, 2 ]</div></pre></td></tr></table></figure><p></p>
<p></p><p>方法三(ES6)</p><br><figure class="highlight plain"><figcaption><span>arr = [1, 1, 4, 50, 50, 6, 2, 2];</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function unique(arr)&#123;</div><div class="line">  return Array.from(new Set(arr));</div><div class="line">&#125;</div><div class="line">unique(arr);</div></pre></td></tr></table></figure><p></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;/p&gt;&lt;p&gt;冒泡排序：&lt;br&gt;从数组中随便拿一个数与后一位比较，如果前者比后者大，那么两者交换位置，从而遍历数组可以得到排序的效果&lt;/p&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;arr = [1, 9, 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>css技巧</title>
    <link href="http://yoursite.com/2016/09/10/css/"/>
    <id>http://yoursite.com/2016/09/10/css/</id>
    <published>2016-09-10T11:13:57.000Z</published>
    <updated>2016-11-21T01:30:49.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="聊一聊这些常见而且实用的css技巧"><a href="#聊一聊这些常见而且实用的css技巧" class="headerlink" title="聊一聊这些常见而且实用的css技巧"></a>聊一聊这些常见而且实用的css技巧</h2><h1 id="1、清除浮动"><a href="#1、清除浮动" class="headerlink" title="1、清除浮动"></a>1、清除浮动</h1><figure class="highlight plain"><figcaption><span>清除浮动</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">.clearfix&#123;</div><div class="line">  zoom: 1;</div><div class="line">&#125;</div><div class="line">.clearfix:after&#123;</div><div class="line">  display: block;</div><div class="line">  content: &apos;&apos;;</div><div class="line">  clear: both;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="2、垂直水平居中"><a href="#2、垂直水平居中" class="headerlink" title="2、垂直水平居中"></a>2、垂直水平居中</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">position: absolute;</div><div class="line">top: 50%;</div><div class="line">left: 50%;</div><div class="line">margin-top: -3em;</div><div class="line">margin-left: -7em;</div><div class="line">width: 14em;</div><div class="line">height: 6em;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>＋ 未知宽高 ＋ translate</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">position: absolute;</div><div class="line">left: 50%;</div><div class="line">top: 50%;</div><div class="line">transform: translate(-50%, -50%);</div><div class="line">//需要补充浏览器前缀</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>轻松搞定水平垂直居中( 未知宽高)</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">display: flex;</div><div class="line">align-items: center;</div><div class="line">justify-content: center;</div></pre></td></tr></table></figure>
<h1 id="3、-文本末尾添加省略号"><a href="#3、-文本末尾添加省略号" class="headerlink" title="3、 文本末尾添加省略号"></a>3、 文本末尾添加省略号</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">overflow: hidden;</div><div class="line">text-overflow: ellipsis;</div><div class="line">white-space: nowrap;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">overflow: hidden;</div><div class="line">text-overflow: ellipsis;</div><div class="line">display: -webkit-box;</div><div class="line">-webkit-line-clamp: 3;</div><div class="line">-webkit-box-orient: vertical;</div></pre></td></tr></table></figure>
<h1 id="4、制造文本的模糊效果"><a href="#4、制造文本的模糊效果" class="headerlink" title="4、制造文本的模糊效果"></a>4、制造文本的模糊效果</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">color: transparent;</div><div class="line">text-shadow:0 0 2px rgba(0,0,0,.5);</div></pre></td></tr></table></figure>
<h1 id="5、动画实现简洁loading效果"><a href="#5、动画实现简洁loading效果" class="headerlink" title="5、动画实现简洁loading效果"></a>5、动画实现简洁loading效果</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">.loading:after&#123;</div><div class="line">  display: inline-block;</div><div class="line">  overflow: hidden;</div><div class="line">  vertical-align: bottom;</div><div class="line">  content: &apos;\2026&apos;;</div><div class="line">  -webkit-animation: ellipsis 2s infinite;</div><div class="line">&#125;</div><div class="line">// 动画部分</div><div class="line">@-webkit-keyframes ellipsis&#123;</div><div class="line">  from&#123;</div><div class="line">    width: 2px;</div><div class="line">  &#125;</div><div class="line">  to&#123;</div><div class="line">    width: 15px;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="6、自定义文本选中样式"><a href="#6、自定义文本选中样式" class="headerlink" title="6、自定义文本选中样式"></a>6、自定义文本选中样式</h1><figure class="highlight plain"><figcaption><span>注意只能修改这两个属性 字体颜色 选中背景颜色</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">element::selection&#123;</div><div class="line">  color: green;</div><div class="line">  background-color: pink;</div><div class="line">&#125;</div><div class="line">element::-moz-selection&#123;</div><div class="line">  color: green;</div><div class="line">  background-color: pink;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;聊一聊这些常见而且实用的css技巧&quot;&gt;&lt;a href=&quot;#聊一聊这些常见而且实用的css技巧&quot; class=&quot;headerlink&quot; title=&quot;聊一聊这些常见而且实用的css技巧&quot;&gt;&lt;/a&gt;聊一聊这些常见而且实用的css技巧&lt;/h2&gt;&lt;h1 id=&quot;1、清除浮
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>HEXO</title>
    <link href="http://yoursite.com/2016/09/06/HEXO/"/>
    <id>http://yoursite.com/2016/09/06/HEXO/</id>
    <published>2016-09-06T09:52:23.000Z</published>
    <updated>2016-11-21T01:30:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="hexo常用命令笔记"><a href="#hexo常用命令笔记" class="headerlink" title="hexo常用命令笔记"></a>hexo常用命令笔记</h2><h3 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h3><p><code>hexo n == hexo new

hexo p == hexo publish

hexo g == hexo generate

hexo s == hexo server

hexo d == hexo deploy</code></p><br>### 服务器<br><p><code>hexo server #Hexo 会监视文件变动并自动更新，您无须重启服务器。

hexo server -s #静态模式

hexo server -p 5000 #更改端口

hexo server -i 192.168.1.1 #自定义 IP

hexo clean #清除缓存 网页正常情况下可以忽略此条命令

hexo g #生成静态网页

hexo d #开始部署</code></p><br>### 监事文件变动<br><p><code>hexo generate #使用 Hexo 生成静态文件快速而且简单

hexo generate --watch #监视文件变动</code></p><br>### 完成后部署<br><p><code>两个命令的作用是相同的

hexo generate --deploy hexo deploy --generate
hexo deploy -g hexo server -g</code></p><br>### 模版<br><p><code>hexo new &quot;postName&quot; #新建文章

hexo new page &quot;pageName&quot; #新建页面

hexo generate #生成静态页面至public目录

hexo server #开启预览访问端口（默认端口4000，&#39;ctrl + c&#39;关闭server）

hexo deploy #将.deploy目录部署到GitHub</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;hexo常用命令笔记&quot;&gt;&lt;a href=&quot;#hexo常用命令笔记&quot; class=&quot;headerlink&quot; title=&quot;hexo常用命令笔记&quot;&gt;&lt;/a&gt;hexo常用命令笔记&lt;/h2&gt;&lt;h3 id=&quot;简写&quot;&gt;&lt;a href=&quot;#简写&quot; class=&quot;headerli
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>网页相关状态编码（相关错误提示)</title>
    <link href="http://yoursite.com/2016/08/30/ereen/"/>
    <id>http://yoursite.com/2016/08/30/ereen/</id>
    <published>2016-08-30T09:43:49.000Z</published>
    <updated>2016-11-21T01:28:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="在写页面时可能会遇到的常见问题"><a href="#在写页面时可能会遇到的常见问题" class="headerlink" title="在写页面时可能会遇到的常见问题"></a>在写页面时可能会遇到的常见问题</h2><p>1xx-信息提示这些状态代码表示临时的响应。客户端在收到常规响应之前，应准备接收一个或多个1xx响应。<br><br>100-继续。<br>101-切换协议。</p><br><p>2xx-成功这类状态代码表明服务器成功地接受了客户端请求。<br>200-确定。客户端请求已成功。（重点）<br>201-已创建。<br>202-已接受。<br>203-非权威性信息。<br>204-无内容。<br>205-重置内容。<br>206-部分内容。</p><br><p>3xx-重定向客户端浏览器必须采取更多操作来实现请求。例如，浏览器可能不得不请求服务器上的不同的页面，或通过代理服务器重复该请求。<br>301-对象已永久移走，即永久重定向。（重点）<br>302-对象已临时移动。<br>304-未修改。（重点）<br>307-临时重定向。</p><br><p>4xx-客户端错误发生错误，客户端似乎有问题。例如，客户端请求不存在的页面，客户端未提供有效的身份验证信息。<br>400-错误的请求。<br>401-访问被拒绝。IIS定义了许多不同的401错误，它们指明更为具体的错误原因。这些具体的错误代码在浏览器中显示，但不在IIS日志中显示：<br>401.1-登录失败。<br>401.2-服务器配置导致登录失败。<br>401.3-由于ACL对资源的限制而未获得授权。<br>401.4-筛选器授权失败。<br>401.5-ISAPI/CGI应用程序授权失败。<br>401.7–访问被Web服务器上的URL授权策略拒绝。这个错误代码为IIS6.0所专用。<br>403-禁止访问：IIS定义了许多不同的403错误，它们指明更为具体的错误原因：<br>403.1-执行访问被禁止。<br>403.2-读访问被禁止。<br>403.3-写访问被禁止。<br>403.4-要求SSL。<br>403.5-要求SSL128。<br>403.6-IP地址被拒绝。<br>403.7-要求客户端证书。<br>403.8-站点访问被拒绝。<br>403.9-用户数过多。<br>403.10-配置无效。<br>403.11-密码更改。<br>403.12-拒绝访问映射表。<br>403.13-客户端证书被吊销。<br>403.14-拒绝目录列表。<br>403.15-超出客户端访问许可。<br>403.16-客户端证书不受信任或无效。<br>403.17-客户端证书已过期或尚未生效。<br>403.18-在当前的应用程序池中不能执行所请求的URL。这个错误代码为IIS6.0所专用。<br>403.19-不能为这个应用程序池中的客户端执行CGI。这个错误代码为IIS6.0所专用。<br>403.20-Passport登录失败。这个错误代码为IIS6.0所专用。 404-未找到。<br>404.0-（无）–没有找到文件或目录，没有找到页面。（重点）<br>404.1-无法在所请求的端口上访问Web站点。<br>404.2-Web服务扩展锁定策略阻止本请求。<br>404.3-MIME映射策略阻止本请求。<br>405-用来访问本页面的HTTP谓词不被允许（方法不被允许）<br>406-客户端浏览器不接受所请求页面的MIME类型。<br>407-要求进行代理身份验证。<br>412-前提条件失败。<br>413–请求实体太大。<br>414-请求URI太长。<br>415–不支持的媒体类型。<br>416–所请求的范围无法满足。<br>417–执行失败。<br>423–锁定的错误。</p><br><p>5xx-服务器错误服务器由于遇到错误而不能完成该请求。<br>500-内部服务器错误。（重点）<br>500.12-应用程序正忙于在Web服务器上重新启动。<br>500.13-Web服务器太忙。<br>500.15-不允许直接请求Global.asa。<br>500.16–UNC授权凭据不正确。这个错误代码为IIS6.0所专用。<br>500.18–URL授权存储不能打开。这个错误代码为IIS6.0所专用。<br>500.100-内部ASP错误。<br>501-页眉值指定了未实现的配置。<br>502-Web服务器用作网关或代理服务器时收到了无效响应。<br>502.1-CGI应用程序超时。<br>502.2-CGI应用程序出错。application.<br>503-服务不可用。这个错误代码为IIS6.0所专用。<br>504-网关超时。<br>505-HTTP版本不受支持。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;在写页面时可能会遇到的常见问题&quot;&gt;&lt;a href=&quot;#在写页面时可能会遇到的常见问题&quot; class=&quot;headerlink&quot; title=&quot;在写页面时可能会遇到的常见问题&quot;&gt;&lt;/a&gt;在写页面时可能会遇到的常见问题&lt;/h2&gt;&lt;p&gt;1xx-信息提示这些状态代码表示临时
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>client offset screen 的区别</title>
    <link href="http://yoursite.com/2016/08/26/xy/"/>
    <id>http://yoursite.com/2016/08/26/xy/</id>
    <published>2016-08-26T02:44:17.000Z</published>
    <updated>2016-11-21T01:28:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="client-offset-screen-的区别"><a href="#client-offset-screen-的区别" class="headerlink" title="client offset screen 的区别"></a>client offset screen 的区别</h2><p>clientX 设置或获取鼠标指针位置相对于窗口客户区域的 x 坐标，其中客户区域不包括窗口自身的控件和滚动条。</p><br><p>clientY 设置或获取鼠标指针位置相对于窗口客户区域的 y 坐标，其中客户区域不包括窗口自身的控件和滚动条。</p><br><p>offsetX 设置或获取鼠标指针位置相对于触发事件的（this）对象的 x 坐标。</p><br><p>offsetY 设置或获取鼠标指针位置相对于触发事件的（this）对象的 y 坐标。</p><br><p>screenX 设置或获取获取鼠标指针位置相对于用户屏幕的 x 坐标。</p><br><p>screenY 设置或获取鼠标指针位置相对于用户屏幕的 y 坐标。</p><br><p>x 设置或获取鼠标指针位置相对于父文档的 x 像素坐标。</p><br><p>y 设置或获取鼠标指针位置相对于父文档的 y 像素坐标。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;client-offset-screen-的区别&quot;&gt;&lt;a href=&quot;#client-offset-screen-的区别&quot; class=&quot;headerlink&quot; title=&quot;client offset screen 的区别&quot;&gt;&lt;/a&gt;client offset 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>var</title>
    <link href="http://yoursite.com/2016/08/20/var/"/>
    <id>http://yoursite.com/2016/08/20/var/</id>
    <published>2016-08-20T01:43:06.000Z</published>
    <updated>2016-11-21T01:27:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="js中const-var-let区别"><a href="#js中const-var-let区别" class="headerlink" title="js中const,var,let区别"></a>js中const,var,let区别</h2><p></p><p>今天第一次遇到const定义的变量，查阅了相关资料整理了这篇文章。主要内容是：js中三种定义变量的方式const， var， let的区别。</p><p></p>
<p></p><p>1.const定义的变量不可以修改，而且必须初始化。</p><br><figure class="highlight plain"><figcaption><span>const b = 2;//正确</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">2 // const b;//错误，必须初始化 </div><div class="line">3 console.log(&apos;函数外const定义b：&apos; + b);//有输出值</div><div class="line">4 // b = 5;</div><div class="line">5 // console.log(&apos;函数外修改const定义b：&apos; + b);//无法输出</div></pre></td></tr></table></figure><p></p>
<p></p><p>2.var定义的变量可以修改，如果不初始化会输出undefined，不会报错.</p><br><figure class="highlight plain"><figcaption><span>var a = 1;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">2 // var a;//不会报错</div><div class="line">3 console.log(&apos;函数外var定义a：&apos; + a);//可以输出a=1</div><div class="line">4 function change()&#123;</div><div class="line">5 a = 4;</div><div class="line">6 console.log(&apos;函数内var定义a：&apos; + a);//可以输出a=4</div><div class="line">7 &#125; </div><div class="line">8 change();</div><div class="line">9 console.log(&apos;函数调用后var定义a为函数内部修改值：&apos; + a);//可以输出a=4</div></pre></td></tr></table></figure><p></p>
<p></p><p>3.let是块级作用域，函数内部使用let定义后，对函数外部无影响.</p><br><figure class="highlight plain"><figcaption><span>let c = 3;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">2 console.log(&apos;函数外let定义c：&apos; + c);//输出c=3</div><div class="line">3 function change()&#123;</div><div class="line">4 let c = 6;</div><div class="line">5 console.log(&apos;函数内let定义c：&apos; + c);//输出c=6</div><div class="line">6 &#125; </div><div class="line">7 change();</div><div class="line">8 console.log(&apos;函数调用后let定义c不受函数内部定义影响：&apos; + c);//输出c=3</div></pre></td></tr></table></figure><p></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;js中const-var-let区别&quot;&gt;&lt;a href=&quot;#js中const-var-let区别&quot; class=&quot;headerlink&quot; title=&quot;js中const,var,let区别&quot;&gt;&lt;/a&gt;js中const,var,let区别&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>呆呆</title>
    <link href="http://yoursite.com/2016/08/12/daidai/"/>
    <id>http://yoursite.com/2016/08/12/daidai/</id>
    <published>2016-08-12T12:36:21.000Z</published>
    <updated>2016-11-21T01:27:44.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JS-实现图片放大效果"><a href="#JS-实现图片放大效果" class="headerlink" title="JS 实现图片放大效果"></a>JS 实现图片放大效果</h2><p></p><p>首先把html布局写好</p><br><figure class="highlight plain"><figcaption><span>html></span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">　　&lt;meta charset=&quot;utf-8&quot;/&gt;</div><div class="line">　　&lt;title&gt;&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">　　&lt;body&gt;</div><div class="line">　　　　&lt;div id=&quot;div1&quot;&gt; </div><div class="line">　　　　　　&lt;!-- 图片 --&gt;</div><div class="line">　　　　　　&lt;img src=&quot;images/xiangqing.png&quot; alt=&quot;&quot;&gt;</div><div class="line">　　　　　　&lt;!-- 鼠标选中框 --&gt;</div><div class="line">　　　　　　&lt;span&gt;&lt;/span&gt; </div><div class="line">　　　　　　&lt;!-- 背景 --&gt;</div><div class="line">　　　　　　&lt;div class=&quot;show&quot;&gt;&lt;/div&gt;</div><div class="line">　　　　&lt;/div&gt; </div><div class="line">　　　　&lt;div id=&quot;div2&quot;&gt; </div><div class="line">　　　　　　&lt;!-- 放大后的图片 --&gt;</div><div class="line">　　　　　　&lt;img id=&quot;img1&quot; src=&quot;images/xiangqingda.png&quot; /&gt; </div><div class="line">　　　　&lt;/div&gt; </div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure><p></p>
<p></p><p>css样式</p><br><figure class="highlight plain"><figcaption><span>type="text/css"> </span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">　　#div1 &#123; </div><div class="line">　　　　width:300px; </div><div class="line">　　　　height:300px; </div><div class="line">　　　　position:relative; </div><div class="line">　　　　margin:30px auto 0px;</div><div class="line">　　&#125; </div><div class="line">　　#div1 img&#123;</div><div class="line">　　　　width: 300px;</div><div class="line">　　&#125; </div><div class="line">　　　#div1 span &#123; </div><div class="line">　　　　width:150px; </div><div class="line">　　　　height:150px; </div><div class="line">　　　　background:red; </div><div class="line">　　　　position:absolute;</div><div class="line">　　　　left:0px;</div><div class="line">　　　　top:0px; </div><div class="line">　　　　display:none; </div><div class="line">　　　　opacity:0.2;</div><div class="line">　　&#125; </div><div class="line">　　.show &#123; </div><div class="line">　　　　width:100%; </div><div class="line">　　　　height:100%;</div><div class="line">　　　　background:red;</div><div class="line">　　　　position:absolute;</div><div class="line">　　　　left:0px; top:0px; </div><div class="line">　　　　z-index:10px; </div><div class="line">　　　　opacity:0.1;</div><div class="line">　　&#125; </div><div class="line">　　#div2 &#123;</div><div class="line">　　　　width:300px;</div><div class="line">　　　　height:300px; </div><div class="line">　　　　position:relative; </div><div class="line">　　　　top: -300px;</div><div class="line">　　　　left: 300px;</div><div class="line">　　　　display:none; </div><div class="line">　　　　overflow:hidden; </div><div class="line">　　　　margin:0px auto 0px;</div><div class="line">　　&#125; </div><div class="line">　　#img1 &#123; </div><div class="line">　　　　position:absolute;</div><div class="line">　　&#125; </div><div class="line">　　&lt;/style&gt;</div></pre></td></tr></table></figure><p></p>
<p></p><p>JS</p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">　　</div><div class="line"></div><div class="line">　　// 加载完成后显示</div><div class="line">　　window.onload=function () &#123; </div><div class="line">　　　　var oDiv=document.getElementById(&apos;div1&apos;); </div><div class="line">　　　　var oShow=document.getElementsByClassName(&apos;show&apos;)[0]; </div><div class="line">　　　　var oSpan=document.getElementsByTagName(&apos;span&apos;)[0]; </div><div class="line">　　　　var oImg=document.getElementById(&apos;img1&apos;);</div><div class="line">　　　　// parentNode获得父节点</div><div class="line">　　　　oShow.onmouseover=function() &#123; </div><div class="line">　　　　oSpan.style.display=&apos;block&apos;; </div><div class="line">　　　　oImg.parentNode.style.display=&apos;block&apos;; </div><div class="line">　　　　&#125;; </div><div class="line">　　　　oShow.onmouseout=function() &#123; </div><div class="line">　　　　　　oSpan.style.display=&apos;&apos;; </div><div class="line">　　　　　　oImg.parentNode.style.display=&apos;&apos;; </div><div class="line">　　　　&#125;; </div><div class="line">　　　　// 放大器移动</div><div class="line">　　　　oShow.onmousemove=function(ev) &#123; </div><div class="line">　　　　// 解决浏览器兼容问题</div><div class="line">　　　　var oEvent=ev||event;</div><div class="line">　　　　// 获得鼠标的位置</div><div class="line">　　　　var x=oEvent.offsetX-oSpan.offsetWidth/2; </div><div class="line">　　　　var y=oEvent.offsetY-oSpan.offsetHeight/2;</div><div class="line"></div><div class="line">　　　　// console.log(oEvent.clientY);</div><div class="line">　　　　// console.log(oDiv.offsetTop);</div><div class="line">　　　　// console.log(oSpan.offsetHeight/2);</div><div class="line">　　　　// console.log(oEvent.clientY);</div><div class="line"></div><div class="line">　　　　if(x&lt;0) &#123; </div><div class="line">　　　　　　x=0; </div><div class="line">　　　　&#125; else if(x&gt;oShow.offsetWidth-oSpan.offsetWidth) &#123; </div><div class="line">　　　　　　x=oShow.offsetWidth-oSpan.offsetWidth; </div><div class="line">　　　　&#125; if(y&lt;0) &#123; </div><div class="line">　　　　　　y=0; </div><div class="line">　　　　&#125; else if(y&gt;oShow.offsetHeight-oSpan.offsetHeight) &#123; </div><div class="line">　　　　　　y=oShow.offsetHeight-oSpan.offsetHeight;</div><div class="line">　　　　&#125; </div><div class="line">　　　　// 给选中框定位</div><div class="line">　　　　oSpan.style.left=x+&apos;px&apos;; </div><div class="line">　　　　oSpan.style.top=y+&apos;px&apos;; </div><div class="line">　　　　// 给放大器定位</div><div class="line">　　　　var percentX=x/(oShow.offsetWidth-oSpan.offsetWidth); </div><div class="line">　　　　var percentY=y/(oShow.offsetHeight-oSpan.offsetHeight); </div><div class="line">　　　　var oImgparent=oImg.parentNode; </div><div class="line">　　　　oImg.style.left=-percentX*(oImg.offsetWidth-oImgparent.offsetWidth)+&apos;px&apos;; </div><div class="line">　　　　oImg.style.top=-percentY*(oImg.offsetHeight-oImgparent.offsetHeight)+&apos;px&apos;; </div><div class="line">　　&#125;; </div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure><p></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;JS-实现图片放大效果&quot;&gt;&lt;a href=&quot;#JS-实现图片放大效果&quot; class=&quot;headerlink&quot; title=&quot;JS 实现图片放大效果&quot;&gt;&lt;/a&gt;JS 实现图片放大效果&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;首先把html布局写好&lt;/p&gt;&lt;br&gt;&lt;figure 
    
    </summary>
    
    
  </entry>
  
</feed>

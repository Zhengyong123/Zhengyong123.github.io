<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>JavaScript面向对象与原型 | 剑出花残</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="剑出花残">
    <meta name="author" content="JC">
    <meta name="description" content="come on" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="剑出花残" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
    <link href='//fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='http://fonts.useso.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->










  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://go.kieran.top/" class="animsition-link">Kieran</a></li>
                    
                    <li><a href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">剑出花残</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2016-11-02T07:46:33.000Z" itemprop="datePublished">
          2016-11-02
      </time>
    
</span>
                <h1>JavaScript面向对象与原型</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h2 id="工厂模式：无法识别对象"><a href="#工厂模式：无法识别对象" class="headerlink" title="工厂模式：无法识别对象"></a>工厂模式：无法识别对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">function createObject(name, age) &#123; //集中实例化的函数</div><div class="line">　　var obj = new Object();</div><div class="line">　　obj.name = name;</div><div class="line">　　obj.age = age;</div><div class="line">　　obj.run = function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;;</div><div class="line">　　return obj;</div><div class="line">&#125;</div><div class="line">var box1 = createObject(&apos;Lee&apos;, 100); //第一个实例</div><div class="line">var box2 = createObject(&apos;Jack&apos;, 200); //第二个实例</div><div class="line">alert(box1.run());</div><div class="line">alert(box2.run()); //保持独立</div><div class="line">alert(typeof box1); //Object</div><div class="line">alert(box1 instanceof Object); //true</div></pre></td></tr></table></figure>
<h2 id="构造函数-构造方法-：可以识别对象"><a href="#构造函数-构造方法-：可以识别对象" class="headerlink" title="构造函数(构造方法)：可以识别对象"></a>构造函数(构造方法)：可以识别对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Box(name, age) &#123; //构造函数模式</div><div class="line">　　this.name = name;</div><div class="line">　　this.age = age;</div><div class="line">　　this.run = function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;;</div><div class="line">&#125;</div><div class="line">var box1 = new Box(&apos;Lee&apos;, 100); //new Box()即可</div><div class="line">var box2 = new Box(&apos;Jack&apos;, 200);</div><div class="line">alert(box1.run());</div><div class="line">alert(box1 instanceof Box); //很清晰的识别他从属于 Box</div></pre></td></tr></table></figure>
<h2 id="构造函数的方法有一些规范："><a href="#构造函数的方法有一些规范：" class="headerlink" title="构造函数的方法有一些规范："></a>构造函数的方法有一些规范：</h2><p><br>1.函数名和实例化构造名相同且大写，(PS：非强制，但这么写有助于区分构造函数和普通函数)；<br>2.通过构造函数创建对象，必须使用 new 运算符。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var o = new Object();</div><div class="line">Box.call(o, &apos;Jack&apos;, 200) //对象冒充调用</div><div class="line">alert(o.run());</div></pre></td></tr></table></figure><br><br><p><br>原型（共享）：创建的每个函数都有一个 prototype(原型)属性，这个属性是一个对象，它的用途是包含可以由特定类型的所有实例共享的属性和方法。逻辑上可以这么理解：prototype 通过调用构造函数而创建的那个对象的原型对象。使用原型的好处可以让所有对象实例共享它所包含的属性和方法。也就是说，不必在构造函数中定义对象信息，而是可以直接将这些信息添加到原型中。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">unction Box() &#123;&#125; //声明一个构造函数</div><div class="line">Box.prototype.name = &apos;Lee&apos;; //在原型里添加属性</div><div class="line">Box.prototype.age = 100;</div><div class="line">Box.prototype.run = function () &#123; //在原型里添加方法</div><div class="line">　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br><img src="https://zhaoxingzi.github.io/img/js.png" alt="js.png"><br><p><br>在原型模式声明中，多了两个属性，这两个属性都是创建对象时自动生成的。<br>proto属性：是实例指向原型对象的一个指针，它的作用就是指向构造函数的原型属性 constructor 。通过这两个属性，就可以访问到原型里的属性和方法了。<br>PS：IE 浏览器在脚本访问proto会不能识别，火狐和谷歌浏览器及其他某些浏览器均能识别。虽然可以输出，但无法获取内部信息。<br>判断一个对象是否指向了该构造函数的原型对象，可以使用 isPrototypeOf()方法来测试。<br>exp：alert(Box.prototype.isPrototypeOf(box)); //只要实例化对象，即都会指向<br></p>

<h2 id="原型模式的执行流程："><a href="#原型模式的执行流程：" class="headerlink" title="原型模式的执行流程："></a>原型模式的执行流程：</h2><p><br>1.先查找构造函数实例里的属性或方法，如果有，立刻返回；<br>2.如果构造函数实例里没有，则去它的原型对象里找，如果有，就返回；<br>虽然我们可以通过对象实例访问保存在原型中的值，但却不能访问通过对象实例重写原型中的值。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var box1 = new Box();</div><div class="line">alert(box1.name); //Lee，原型里的值</div><div class="line">box1.name = &apos;Jack&apos;;</div><div class="line">alert(box.1name); //Jack，就近原则，</div><div class="line">var box2 = new Box();</div><div class="line">alert(box2.name); //Lee，原型里的值，没有被 box1 修改</div><div class="line">如果想要 box1 也能在后面继续访问到原型里的值，可以把构造函数里的属性删除即可 ，具体如下：</div><div class="line">delete box1.name; //删除属性</div><div class="line">alert(box1.name);</div><div class="line">如何判断属性是在构造函数的实例里，还是在原型里？可以使用 hasOwnProperty()函数来验证：</div><div class="line">alert(box.hasOwnProperty(&apos;name&apos;)); //实例里有返回 true，否则返回 false</div></pre></td></tr></table></figure><br><br><p><br>in 操作符会在通过对象能够访问给定属性时返回 true，无论该属性存在于实例中还是原型中。<br>alert(‘name’ in box); //true，存在实例中或原型中<br>我们可以通过 hasOwnProperty()方法检测属性是否存在实例中，也可以通过 in 来判断实例或原型中是否存在属性。那么结合这两种方法，可以判断原型中是否存在属性。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function isProperty(object, property) &#123; //判断原型中是否存在属性</div><div class="line">　　return !object.hasOwnProperty(property) &amp;&amp; (property in object);</div><div class="line">&#125;</div><div class="line">var box = new Box();</div><div class="line">alert(isProperty(box, &apos;name&apos;)) //true，如果原型有</div></pre></td></tr></table></figure><br><br><p><br>    为了让属性和方法更好的体现封装的效果，并且减少不必要的输入，原型的创建可以使用字面量的方式：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function Box() &#123;&#125;;</div><div class="line">Box.prototype = &#123; //使用字面量的方式</div><div class="line">　　name : &apos;Lee&apos;,</div><div class="line">　　age : 100,</div><div class="line">　　run : function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><br><br><p><br>使用构造函数创建原型对象和使用字面量创建对象在使用上基本相同，但还是有一些区别，字面量创建的方式使用 constructor 属性不会指向实例，而会指向 Object，构造函数创建的方式则相反。<br>如果想让字面量方式的 constructor 指向实例对象，那么可以这么做：<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Box.prototype = &#123;</div><div class="line">　　constructor : Box, //直接强制指向即可</div><div class="line">&#125;;</div></pre></td></tr></table></figure><br><br><p><br>原型对象不仅仅可以在自定义对象的情况下使用，而 ECMAScript 内置的引用类型都可以使用这种方式，并且内置的引用类型本身也使用了原型。<br></p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">alert(Array.prototype.sort); //sort 就是 Array 类型的原型方法</div><div class="line">alert(String.prototype.substring); //substring 就是 String 类型的原型方法</div><div class="line">String.prototype.addstring = function () &#123; //给 String 类型添加一个方法</div><div class="line">　　return this + &apos;，被添加了！&apos;; //this 代表调用的字符串</div><div class="line">&#125;;</div><div class="line">alert(&apos;Lee&apos;.addstring()); //使用这个方法</div></pre></td></tr></table></figure><br><br><p><br>PS：尽管给原生的内置引用类型添加方法使用起来特别方便，但我们不推荐使用这种方法。因为它可能会导致命名冲突，不利于代码维护。<br></p>

<h2 id="动态原型模式"><a href="#动态原型模式" class="headerlink" title="动态原型模式"></a>动态原型模式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Box(name ,age) &#123; //将所有信息封装到函数体内</div><div class="line">　　this.name = name;</div><div class="line">　　this.age = age;</div><div class="line">　　if (typeof this.run != &apos;function&apos;) &#123; //仅在第一次调用的初始化</div><div class="line">　　　　Box.prototype.run = function () &#123;</div><div class="line">　　　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　　　&#125;;</div><div class="line">　　&#125;</div><div class="line">&#125;</div><div class="line">var box = new Box(&apos;Lee&apos;, 100);</div><div class="line">alert(box.run());</div></pre></td></tr></table></figure>
<p><br>PS：使用动态原型模式，要注意一点，不可以再使用字面量的方式重写原型，因为会切断实例和新原型之间的联系。<br></p>

<h2 id="寄生构造函数"><a href="#寄生构造函数" class="headerlink" title="寄生构造函数"></a>寄生构造函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function Box(name, age) &#123;</div><div class="line">　　var obj = new Object();</div><div class="line">　　obj.name = name;</div><div class="line">　　obj.age = age;</div><div class="line">　　obj.run = function () &#123;</div><div class="line">　　　　return this.name + this.age + &apos;运行中...&apos;;</div><div class="line">　　&#125;;</div><div class="line">　　return obj;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="稳妥构造函数"><a href="#稳妥构造函数" class="headerlink" title="稳妥构造函数"></a>稳妥构造函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function Box(name , age) &#123;</div><div class="line">　　var obj = new Object();</div><div class="line">　　obj.run = function () &#123;</div><div class="line">　　　　return name + age + &apos;运行中...&apos;; //直接打印参数即可</div><div class="line">　　&#125;;</div><div class="line">　　return obj;</div><div class="line">&#125;</div><div class="line">var box = Box(&apos;Lee&apos;, 100); //直接调用函数</div><div class="line">alert(box.run());</div></pre></td></tr></table></figure>
<h2 id="继承：依靠原型链完成"><a href="#继承：依靠原型链完成" class="headerlink" title="继承：依靠原型链完成"></a>继承：依靠原型链完成</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function Box() &#123; //Box 构造</div><div class="line">　　this.name = &apos;Lee&apos;;</div><div class="line">&#125;</div><div class="line">function Desk() &#123; //Desk 构造</div><div class="line">　　this.age = 100;</div><div class="line">&#125;</div><div class="line">Desk.prototype = new Box(); //Desc 继承了 Box，通过原型，形成链条</div><div class="line">var desk = new Desk();</div><div class="line">alert(desk.age);</div><div class="line">alert(desk.name); //得到被继承的属性</div><div class="line">function Table() &#123; //Table 构造</div><div class="line">　　this.level = &apos;AAAAA&apos;;</div><div class="line">&#125;</div><div class="line">Table.prototype = new Desk(); //继续原型链继承</div><div class="line">var table = new Table();</div><div class="line">alert(table.name); //继承了 Box 和 Desk</div></pre></td></tr></table></figure>
<p><img src="https://zhaoxingzi.github.io/img/js1.png" alt="js1.png"></p>
<p><br>在 JavaScript 里，被继承的函数称为超类型(父类，基类也行，其他语言叫法)，继承的函数称为子类型(子类，派生类)。继承也有之前问题，比如字面量重写原型会中断关系，使用引用类型的原型，并且子类型还无法给超类型传递参数。<br></p>

<h2 id="对象冒充-伪造对象、经典继承、借用构造函数-：解决引用共享和超类型无法传参的问题"><a href="#对象冒充-伪造对象、经典继承、借用构造函数-：解决引用共享和超类型无法传参的问题" class="headerlink" title="对象冒充(伪造对象、经典继承、借用构造函数)：解决引用共享和超类型无法传参的问题"></a>对象冒充(伪造对象、经典继承、借用构造函数)：解决引用共享和超类型无法传参的问题</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function Box(age) &#123;</div><div class="line">　　this.name = [&apos;Lee&apos;, &apos;Jack&apos;, &apos;Hello&apos;]</div><div class="line">　　this.age = age;</div><div class="line">&#125;</div><div class="line">function Desk(age) &#123;</div><div class="line">　　Box.call(this, age); //对象冒充，给超类型传参</div><div class="line">&#125;</div><div class="line">var desk = new Desk(200);</div><div class="line">alert(desk.age);</div><div class="line">alert(desk.name);</div><div class="line">desk.name.push(&apos;AAA&apos;); //添加的新数据，只给 desk</div><div class="line">alert(desk.name);</div></pre></td></tr></table></figure>
<h2 id="组合继承：原型链-借用构造函数"><a href="#组合继承：原型链-借用构造函数" class="headerlink" title="组合继承：原型链+ 借用构造函数"></a>组合继承：原型链+ 借用构造函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function Box(age) &#123;</div><div class="line">　　this.name = [&apos;Lee&apos;, &apos;Jack&apos;, &apos;Hello&apos;]</div><div class="line">　　this.age = age;</div><div class="line">&#125;</div><div class="line">Box.prototype.run = function () &#123;</div><div class="line">　　return this.name + this.age;</div><div class="line">&#125;;</div><div class="line">function Desk(age) &#123;</div><div class="line">　　Box.call(this, age); //对象冒充</div><div class="line">&#125;</div><div class="line">Desk.prototype = new Box(); //原型链继承</div><div class="line">var desk = new Desk(100);</div><div class="line">alert(desk.run());</div></pre></td></tr></table></figure>
<h2 id="寄生组合继承"><a href="#寄生组合继承" class="headerlink" title="寄生组合继承"></a>寄生组合继承</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">function obj(o) &#123;     //传递一个字面量函数</div><div class="line">　　function F() &#123;&#125;    //临时新建一个构造函数，用来存储传递进来的对象</div><div class="line">　　F.prototype = o;    //将o对象实例赋值给F构造的原型对象</div><div class="line">　　return new F();    //返回实例化后的构造函数</div><div class="line">&#125;</div><div class="line">function create(box, desk) &#123;</div><div class="line">　　var f = obj(box.prototype);</div><div class="line">　　f.constructor = desk;</div><div class="line">　　desk.prototype = f;</div><div class="line">&#125;</div><div class="line">function Box(name) &#123;</div><div class="line">　　this.name = name;</div><div class="line">　　this.arr = [&apos;哥哥&apos;,&apos;妹妹&apos;,&apos;父母&apos;];</div><div class="line">&#125;</div><div class="line">Box.prototype.run = function () &#123;</div><div class="line">　　return this.name;</div><div class="line">&#125;;</div><div class="line">function Desk(name, age) &#123;</div><div class="line">　　Box.call(this, name);</div><div class="line">　　this.age = age;</div><div class="line">&#125;</div><div class="line">inPrototype(Box, Desk); //通过这里实现继承</div><div class="line">var desk = new Desk(&apos;Lee&apos;,100);</div><div class="line">desk.arr.push(&apos;姐姐&apos;);</div><div class="line">alert(desk.arr);</div><div class="line">alert(desk.run()); //只共享了方法</div><div class="line">var desk2 = new Desk(&apos;Jack&apos;, 200);</div><div class="line">alert(desk2.arr); //引用问题解决</div></pre></td></tr></table></figure>
<p>转载-&gt;<a href="http://www.cnblogs.com/sctnl/p/6086121.html" target="_blank" rel="external">http://www.cnblogs.com/sctnl/p/6086121.html</a></p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    
    <a class="pull-right" href="/2016/10/31/cssCube/">
        css正方体滚动 →
    </a>
    
</nav>

        <div class="duoshuo">
<div class="ds-thread" data-thread-key="2016/11/02/jsObject/" data-title="JavaScript面向对象与原型" data-url="http://yoursite.com/2016/11/02/jsObject/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"duoshuo_name"};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By JC. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
